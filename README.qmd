---
title: "LaminR: Work with LaminDB instances in R"
format: gfm
---

<!-- The README.md file is created by rendering README.qmd using `quarto render README.qmd`. -->
<!-- DO NOT edit README.md directly, instead all changes should be made to README.qmd. -->


<!-- badges: start -->
[![R-CMD-check](https://github.com/laminlabs/laminr/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/laminlabs/laminr/actions/workflows/R-CMD-check.yaml)
<!-- badges: end -->

This package allows you to query and download data from LaminDB instances.

## Setup

Install the development version from GitHub:

```R
# install.packages("remotes")
remotes::install_github("laminlabs/laminr")
```

Install the Lamin CLI and authenticate:

```bash
pip install lamin-cli
lamin login
```

## Usage

Load the library

```{r setup}
library(laminr)
```

## Database instance

```{r connect}
db <- connect("laminlabs/cellxgene")
db
```

### Schema module

```{r get_module}
db$get_module("core")

db$bionty
```

### Registry

```{r get_artifact_registry}
db$Artifact
```

```{r get_bionty_celline}
db$bionty$CellLine
```

### Record

#### Get artifact

```{r get_artifact}
artifact <- db$Artifact$get("KBW89Mf7IGcekja2hADu")
artifact
```

#### Print simple fields

```{r print_simple_fields}
artifact$id

artifact$uid

artifact$key
```

#### Print related fields

```{r print_related_fields}
artifact$storage

artifact$created_by

artifact$experimental_factors
```

### Download and cache an artifact

:::{.callout-note}
Only S3 storage is supported at the moment.
:::

```{r cache_artifact}
artifact$cache()
```

### Load an artifact

:::{.callout-note}
Only S3 storage and AnnData accessors are supported at the moment.
:::

```{r load_artifact}
artifact$load()
```
