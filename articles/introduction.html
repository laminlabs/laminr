<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Introduction • laminr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.10/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">laminr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/introduction.html">Introduction</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/setup.html">Setting up {laminr}</a></li>
  </ul>
</li>
<li class="nav-item"><a class="external-link nav-link" href="https://docs.lamin.ai/changelog">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/laminlabs/laminr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Introduction</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/laminlabs/laminr/blob/main/vignettes/articles/introduction.Rmd" class="external-link"><code>vignettes/articles/introduction.Rmd</code></a></small>
      <div class="d-none name"><code>introduction.Rmd</code></div>
    </div>

    
    
<p>This vignette introduces the <strong>{laminr}</strong> workflow.</p>
<p>To learn more about LaminDB, see <a href="https://docs.lamin.ai" class="external-link">docs.lamin.ai</a>.</p>
<div class="section level2">
<h2 id="quickstart">Quickstart<a class="anchor" aria-label="anchor" href="#quickstart"></a>
</h2>
<p>For setup, install the <strong>{laminr}</strong> and
<strong>lamindb</strong> packages and connect to a LaminDB instance.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"laminr"</span>, dependencies <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>  <span class="co"># install the laminr package from CRAN</span></span>
<span><span class="fu">laminr</span><span class="fu">::</span><span class="fu"><a href="../reference/install_lamindb.html">install_lamindb</a></span><span class="op">(</span>extra_packages <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"bionty"</span><span class="op">)</span><span class="op">)</span>  <span class="co"># install lamindb &amp; bionty for use via reticulate</span></span>
<span><span class="fu">laminr</span><span class="fu">::</span><span class="fu"><a href="../reference/lamin_login.html">lamin_login</a></span><span class="op">(</span><span class="op">)</span>  <span class="co"># &lt;-- you can skip this for local &amp; self-hosted instances</span></span>
<span><span class="fu">laminr</span><span class="fu">::</span><span class="fu"><a href="../reference/lamin_connect.html">lamin_connect</a></span><span class="op">(</span><span class="st">"&lt;account&gt;/&lt;instance&gt;"</span><span class="op">)</span>  <span class="co"># &lt;-- replace with your instance</span></span></code></pre></div>
<p>Here’s how to create a local instance.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">laminr</span><span class="fu">::</span><span class="fu"><a href="../reference/lamin_init.html">lamin_init</a></span><span class="op">(</span>storage <span class="op">=</span> <span class="st">"./mydata"</span>, modules <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"bionty"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>In an R session, transfer an scRNA-seq dataset from the
laminlabs/cellxgene instance, compute marker genes with Seurat, and save
results.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://laminr.lamin.ai">laminr</a></span><span class="op">)</span></span>
<span><span class="va">ln</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/import_module.html">import_module</a></span><span class="op">(</span><span class="st">"lamindb"</span><span class="op">)</span>  <span class="co"># instantiate the central object of the API</span></span>
<span></span>
<span><span class="co"># Access inputs -------------------------------------------</span></span>
<span></span>
<span><span class="va">ln</span><span class="op">$</span><span class="fu">track</span><span class="op">(</span><span class="op">)</span>  <span class="co"># track your run of a notebook or script</span></span>
<span><span class="va">artifact</span> <span class="op">&lt;-</span> <span class="va">ln</span><span class="op">$</span><span class="va">Artifact</span><span class="op">$</span><span class="fu">using</span><span class="op">(</span><span class="st">"laminlabs/cellxgene"</span><span class="op">)</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span><span class="st">"7dVluLROpalzEh8m"</span><span class="op">)</span>  <span class="co"># query the artifact https://lamin.ai/laminlabs/cellxgene/artifact/7dVluLROpalzEh8m</span></span>
<span><span class="va">adata</span> <span class="op">&lt;-</span> <span class="va">artifact</span><span class="op">$</span><span class="fu">load</span><span class="op">(</span><span class="op">)</span>  <span class="co"># load the artifact into memory or sync to cache via filepath &lt;- artifact$cache()</span></span>
<span></span>
<span><span class="co"># Your transformation -------------------------------------</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://satijalab.org/seurat" class="external-link">Seurat</a></span><span class="op">)</span>  <span class="co"># find marker genes with Seurat</span></span>
<span><span class="va">seurat_obj</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://satijalab.github.io/seurat-object/reference/CreateSeuratObject.html" class="external-link">CreateSeuratObject</a></span><span class="op">(</span>counts <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/methods/as.html" class="external-link">as</a></span><span class="op">(</span><span class="fu">Matrix</span><span class="fu">::</span><span class="fu">t</span><span class="op">(</span><span class="va">adata</span><span class="op">$</span><span class="va">X</span><span class="op">)</span>, <span class="st">"CsparseMatrix"</span><span class="op">)</span>, meta.data <span class="op">=</span> <span class="va">adata</span><span class="op">$</span><span class="va">obs</span><span class="op">)</span></span>
<span><span class="va">seurat_obj</span><span class="op">[[</span><span class="st">"RNA"</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://satijalab.github.io/seurat-object/reference/AddMetaData.html" class="external-link">AddMetaData</a></span><span class="op">(</span><span class="fu"><a href="https://satijalab.org/seurat/reference/GetAssay.html" class="external-link">GetAssay</a></span><span class="op">(</span><span class="va">seurat_obj</span><span class="op">)</span>, <span class="va">adata</span><span class="op">$</span><span class="va">var</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://satijalab.github.io/seurat-object/reference/Idents.html" class="external-link">Idents</a></span><span class="op">(</span><span class="va">seurat_obj</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"cell_type"</span></span>
<span><span class="va">seurat_obj</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://satijalab.org/seurat/reference/NormalizeData.html" class="external-link">NormalizeData</a></span><span class="op">(</span><span class="va">seurat_obj</span><span class="op">)</span></span>
<span><span class="va">markers</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://satijalab.org/seurat/reference/FindAllMarkers.html" class="external-link">FindAllMarkers</a></span><span class="op">(</span><span class="va">seurat_obj</span>, features <span class="op">=</span> <span class="fu"><a href="https://satijalab.github.io/seurat-object/reference/Cells.html" class="external-link">Features</a></span><span class="op">(</span><span class="va">seurat_obj</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">100</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">seurat_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>fileext <span class="op">=</span> <span class="st">".rds"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">saveRDS</a></span><span class="op">(</span><span class="va">seurat_obj</span>, <span class="va">seurat_path</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Save outputs --------------------------------------------</span></span>
<span></span>
<span><span class="va">ln</span><span class="op">$</span><span class="fu">Artifact</span><span class="op">(</span><span class="va">seurat_path</span>, key <span class="op">=</span> <span class="st">"my-datasets/my-seurat-object.rds"</span><span class="op">)</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span><span class="op">)</span>  <span class="co"># save versioned output</span></span>
<span><span class="va">ln</span><span class="op">$</span><span class="va">Artifact</span><span class="op">$</span><span class="fu">from_df</span><span class="op">(</span><span class="va">markers</span>, key <span class="op">=</span> <span class="st">"my-datasets/my-markers.parquet"</span><span class="op">)</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span><span class="op">)</span>  <span class="co"># save versioned output</span></span>
<span><span class="va">ln</span><span class="op">$</span><span class="fu">finish</span><span class="op">(</span><span class="op">)</span>  <span class="co"># finish the run, save source code &amp; run report</span></span></code></pre></div>
<p>If you did not use RStudio’s notebook mode, create an html export and
then run the following.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">laminr</span><span class="fu">::</span><span class="fu"><a href="../reference/lamin_save.html">lamin_save</a></span><span class="op">(</span><span class="st">"my-analyis.Rmd"</span><span class="op">)</span>  <span class="co"># save source code and html report for a `.qmd` or `.Rmd` file</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="track-notebooks-scripts">Track notebooks &amp; scripts<a class="anchor" aria-label="anchor" href="#track-notebooks-scripts"></a>
</h2>
<p>See <a href="https://docs.lamin.ai/introduction#track-notebooks-scripts" class="external-link uri">https://docs.lamin.ai/introduction#track-notebooks-scripts</a></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://laminr.lamin.ai">laminr</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/lamin_init.html">lamin_init</a></span><span class="op">(</span>storage <span class="op">=</span> <span class="st">"./laminr-intro"</span>, modules <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"bionty"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://laminr.lamin.ai">laminr</a></span><span class="op">)</span></span>
<span><span class="va">ln</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/import_module.html">import_module</a></span><span class="op">(</span><span class="st">"lamindb"</span><span class="op">)</span>  <span class="co"># instantiate the central `ln` object of the API</span></span>
<span><span class="co">#&gt; <span style="color: #55FF55;">→</span> connected lamindb: testuser1/laminr-intro-20250502130420</span></span>
<span></span>
<span><span class="va">ln</span><span class="op">$</span><span class="fu">track</span><span class="op">(</span><span class="op">)</span>  <span class="co"># track a run of your notebook or script</span></span>
<span><span class="co">#&gt; <span style="color: #55FF55;">→</span> created Transform('ikvGgbdP1mzV0000'), started new Run('QePKUiBz...') at 2025-05-02 13:04:42 UTC</span></span>
<span></span>
<span><span class="va">ln</span><span class="op">$</span><span class="va">Transform</span><span class="op">$</span><span class="fu">df</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;                uid              key      description     type source_code hash</span></span>
<span><span class="co">#&gt; 1 ikvGgbdP1mzV0000 introduction.Rmd introduction.Rmd notebook        &lt;NA&gt; &lt;NA&gt;</span></span>
<span><span class="co">#&gt;   reference reference_type space_id _template_id version is_latest</span></span>
<span><span class="co">#&gt; 1      &lt;NA&gt;           &lt;NA&gt;        1         &lt;NA&gt;    &lt;NA&gt;      TRUE</span></span>
<span><span class="co">#&gt;            created_at created_by_id _aux _branch_code</span></span>
<span><span class="co">#&gt; 1 2025-05-02 13:04:42             1 &lt;NA&gt;            1</span></span>
<span></span>
<span><span class="va">ln</span><span class="op">$</span><span class="va">Run</span><span class="op">$</span><span class="fu">df</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;                    uid name          started_at finished_at reference</span></span>
<span><span class="co">#&gt; 1 QePKUiBzAyntU72jOYk8 &lt;NA&gt; 2025-05-02 13:04:42        &lt;NA&gt;      &lt;NA&gt;</span></span>
<span><span class="co">#&gt;   reference_type _is_consecutive _status_code space_id transform_id report_id</span></span>
<span><span class="co">#&gt; 1           &lt;NA&gt;            &lt;NA&gt;            0        1            1      &lt;NA&gt;</span></span>
<span><span class="co">#&gt;   _logfile_id environment_id initiated_by_run_id          created_at</span></span>
<span><span class="co">#&gt; 1        &lt;NA&gt;           &lt;NA&gt;                &lt;NA&gt; 2025-05-02 13:04:42</span></span>
<span><span class="co">#&gt;   created_by_id _aux _branch_code</span></span>
<span><span class="co">#&gt; 1             1 &lt;NA&gt;            1</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="manage-artifacts">Manage artifacts<a class="anchor" aria-label="anchor" href="#manage-artifacts"></a>
</h2>
<p>See <a href="https://docs.lamin.ai/introduction#manage-artifacts" class="external-link uri">https://docs.lamin.ai/introduction#manage-artifacts</a></p>
<div class="section level3">
<h3 id="create-an-artifact">Create an artifact<a class="anchor" aria-label="anchor" href="#create-an-artifact"></a>
</h3>
<p>See <a href="https://docs.lamin.ai/introduction#create-an-artifact" class="external-link uri">https://docs.lamin.ai/introduction#create-an-artifact</a></p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">ln</span><span class="op">$</span><span class="va">core</span><span class="op">$</span><span class="va">datasets</span><span class="op">$</span><span class="fu">small_dataset1</span><span class="op">(</span>otype <span class="op">=</span> <span class="st">"DataFrame"</span>, with_typo <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">df</span></span>
<span><span class="co">#&gt;         ENSG00000153563 ENSG00000010610 ENSG00000170458 perturbation</span></span>
<span><span class="co">#&gt; sample1               1               3               5         DMSO</span></span>
<span><span class="co">#&gt; sample2               2               4               6         IFNJ</span></span>
<span><span class="co">#&gt; sample3               3               5               7         DMSO</span></span>
<span><span class="co">#&gt;         sample_note             cell_type_by_expert cell_type_by_model</span></span>
<span><span class="co">#&gt; sample1      was ok                          B cell             B cell</span></span>
<span><span class="co">#&gt; sample2  looks naah CD8-positive, alpha-beta T cell             T cell</span></span>
<span><span class="co">#&gt; sample3  pretty! 🤩 CD8-positive, alpha-beta T cell             T cell</span></span>
<span><span class="co">#&gt;           assay_oid concentration treatment_time_h donor</span></span>
<span><span class="co">#&gt; sample1 EFO:0008913          0.1%               24 D0001</span></span>
<span><span class="co">#&gt; sample2 EFO:0008913        200 nM               24 D0002</span></span>
<span><span class="co">#&gt; sample3 EFO:0008913          0.1%                6  &lt;NA&gt;</span></span>
<span></span>
<span><span class="va">artifact</span> <span class="op">&lt;-</span> <span class="va">ln</span><span class="op">$</span><span class="va">Artifact</span><span class="op">$</span><span class="fu">from_df</span><span class="op">(</span><span class="va">df</span>, key <span class="op">=</span> <span class="st">"my_datasets/rnaseq1.parquet"</span><span class="op">)</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span><span class="op">)</span>  <span class="co"># create and save</span></span>
<span><span class="va">artifact</span><span class="op">$</span><span class="fu">describe</span><span class="op">(</span><span class="op">)</span>  <span class="co"># describe</span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Artifact</span><span style="font-weight: bold; font-weight: 100;"> .parquet/DataFrame</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">└── </span><span style="color: #55FFFF; font-weight: bold;">General</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">    ├── </span>.uid = '9Xux7XhseJLE6uBR0000'</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">    ├── </span>.key = 'my_datasets/rnaseq1.parquet'</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">    ├── </span>.size = 8641</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">    ├── </span>.hash = 'KxOC-N4iTwBdjR7_oU0brA'</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">    ├── </span>.n_observations = 3</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">    ├── </span>.path = </span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">    │   /tmp/RtmpNBC32Y/laminr-intro-20250502130420</span>/.lamindb/9Xux7XhseJLE6uBR000</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">    │   </span>0.parquet</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">    ├── </span>.created_by = testuser1 (Test User1)</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">    ├── </span>.created_at = <span style="font-weight: 100;">2025-05-02 13:04:43</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">    └── </span><span style="color: #00BBBB;">.transform = 'introduction.Rmd'</span></span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="access-artifacts">Access artifacts<a class="anchor" aria-label="anchor" href="#access-artifacts"></a>
</h3>
<p>See <a href="https://docs.lamin.ai/introduction#access-artifacts" class="external-link uri">https://docs.lamin.ai/introduction#access-artifacts</a></p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">artifact</span> <span class="op">&lt;-</span> <span class="va">ln</span><span class="op">$</span><span class="va">Artifact</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span>key <span class="op">=</span> <span class="st">"my_datasets/rnaseq1.parquet"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">artifact</span><span class="op">$</span><span class="fu">load</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;         ENSG00000153563 ENSG00000010610 ENSG00000170458 perturbation</span></span>
<span><span class="co">#&gt; sample1               1               3               5         DMSO</span></span>
<span><span class="co">#&gt; sample2               2               4               6         IFNJ</span></span>
<span><span class="co">#&gt; sample3               3               5               7         DMSO</span></span>
<span><span class="co">#&gt;         sample_note             cell_type_by_expert cell_type_by_model</span></span>
<span><span class="co">#&gt; sample1      was ok                          B cell             B cell</span></span>
<span><span class="co">#&gt; sample2  looks naah CD8-positive, alpha-beta T cell             T cell</span></span>
<span><span class="co">#&gt; sample3  pretty! 🤩 CD8-positive, alpha-beta T cell             T cell</span></span>
<span><span class="co">#&gt;           assay_oid concentration treatment_time_h donor</span></span>
<span><span class="co">#&gt; sample1 EFO:0008913          0.1%               24 D0001</span></span>
<span><span class="co">#&gt; sample2 EFO:0008913        200 nM               24 D0002</span></span>
<span><span class="co">#&gt; sample3 EFO:0008913          0.1%                6  &lt;NA&gt;</span></span>
<span></span>
<span><span class="va">artifact</span><span class="op">$</span><span class="fu">cache</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "/tmp/RtmpNBC32Y/laminr-intro-20250502130420/.lamindb/9Xux7XhseJLE6uBR0000.parquet"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="trace-data-lineage">Trace data lineage<a class="anchor" aria-label="anchor" href="#trace-data-lineage"></a>
</h3>
<p>See <a href="https://docs.lamin.ai/introduction#trace-data-lineage" class="external-link uri">https://docs.lamin.ai/introduction#trace-data-lineage</a></p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">artifact</span><span class="op">$</span><span class="va">transform</span></span>
<span><span class="co">#&gt; Transform(uid='ikvGgbdP1mzV0000', is_latest=True, key='introduction.Rmd', description='introduction.Rmd', type='notebook', space_id=1, created_by_id=1, created_at=2025-05-02 13:04:42 UTC)</span></span>
<span></span>
<span><span class="va">artifact</span><span class="op">$</span><span class="va">run</span></span>
<span><span class="co">#&gt; Run(uid='QePKUiBzAyntU72jOYk8', started_at=2025-05-02 13:04:42 UTC, space_id=1, transform_id=1, created_by_id=1, created_at=2025-05-02 13:04:42 UTC)</span></span>
<span></span>
<span><span class="va">artifact</span><span class="op">$</span><span class="fu">view_lineage</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="introduction_files/figure-html/trace-lineage-1.png" width="700"></p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ln</span><span class="op">$</span><span class="fu">finish</span><span class="op">(</span><span class="op">)</span>  <span class="co"># mark run as finished, save execution report &amp; source code</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="annotate-an-artifact">Annotate an artifact<a class="anchor" aria-label="anchor" href="#annotate-an-artifact"></a>
</h3>
<p>See <a href="https://docs.lamin.ai/introduction#annotate-an-artifact" class="external-link uri">https://docs.lamin.ai/introduction#annotate-an-artifact</a></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># create a label</span></span>
<span><span class="va">my_experiment</span> <span class="op">&lt;-</span> <span class="va">ln</span><span class="op">$</span><span class="fu">ULabel</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"My experiment"</span><span class="op">)</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># annotate the artifact with a label</span></span>
<span><span class="va">artifact</span><span class="op">$</span><span class="va">ulabels</span><span class="op">$</span><span class="fu">add</span><span class="op">(</span><span class="va">my_experiment</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># describe the artifact</span></span>
<span><span class="va">artifact</span><span class="op">$</span><span class="fu">describe</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Artifact</span><span style="font-weight: bold; font-weight: 100;"> .parquet/DataFrame</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">├── </span><span style="color: #55FFFF; font-weight: bold;">General</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.uid = '9Xux7XhseJLE6uBR0000'</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.key = 'my_datasets/rnaseq1.parquet'</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.size = 8641</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.hash = 'KxOC-N4iTwBdjR7_oU0brA'</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.n_observations = 3</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.path = </span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   │   /tmp/RtmpNBC32Y/laminr-intro-20250502130420</span>/.lamindb/9Xux7XhseJLE6uBR000</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   │   </span>0.parquet</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.created_by = testuser1 (Test User1)</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.created_at = <span style="font-weight: 100;">2025-05-02 13:04:43</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   └── </span><span style="color: #00BBBB;">.transform = 'introduction.Rmd'</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">└── </span><span style="color: #FFFF55; font-weight: bold;">Labels</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">    └── </span>.ulabels           <span style="font-weight: 100;"> ULabel            </span> My experiment</span></span>
<span></span>
<span><span class="va">ln</span><span class="op">$</span><span class="va">Artifact</span><span class="op">$</span><span class="fu">filter</span><span class="op">(</span>ulabels <span class="op">=</span> <span class="va">my_experiment</span><span class="op">)</span><span class="op">$</span><span class="fu">df</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;                    uid                         key description   suffix    kind</span></span>
<span><span class="co">#&gt; 1 9Xux7XhseJLE6uBR0000 my_datasets/rnaseq1.parquet        &lt;NA&gt; .parquet dataset</span></span>
<span><span class="co">#&gt;       otype size                   hash n_files n_observations _hash_type</span></span>
<span><span class="co">#&gt; 1 DataFrame 8641 KxOC-N4iTwBdjR7_oU0brA    &lt;NA&gt;              3        md5</span></span>
<span><span class="co">#&gt;   _key_is_virtual _overwrite_versions space_id storage_id schema_id version</span></span>
<span><span class="co">#&gt; 1            TRUE               FALSE        1          1      &lt;NA&gt;    &lt;NA&gt;</span></span>
<span><span class="co">#&gt;   is_latest run_id          created_at created_by_id _aux _branch_code</span></span>
<span><span class="co">#&gt; 1      TRUE      1 2025-05-02 13:04:43             1 &lt;NA&gt;            1</span></span>
<span></span>
<span><span class="va">bt</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/import_module.html">import_module</a></span><span class="op">(</span><span class="st">"bionty"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># create a cell type label from the source ontology</span></span>
<span><span class="va">cell_type</span> <span class="op">&lt;-</span> <span class="va">bt</span><span class="op">$</span><span class="va">CellType</span><span class="op">$</span><span class="fu">from_source</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"effector T cell"</span><span class="op">)</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; ... synchronizing df_all__cl__2024-08-16__CellType.parquet:  0.0%... synchronizing df_all__cl__2024-08-16__CellType.parquet:  6.3%... synchronizing df_all__cl__2024-08-16__CellType.parquet: 30.6%... synchronizing df_all__cl__2024-08-16__CellType.parquet: 38.6%... synchronizing df_all__cl__2024-08-16__CellType.parquet: 62.9%... synchronizing df_all__cl__2024-08-16__CellType.parquet: 87.2%... synchronizing df_all__cl__2024-08-16__CellType.parquet: 100.0%</span></span>
<span></span>
<span><span class="co"># annotate the artifact with a cell type</span></span>
<span><span class="va">artifact</span><span class="op">$</span><span class="va">cell_types</span><span class="op">$</span><span class="fu">add</span><span class="op">(</span><span class="va">cell_type</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># describe the artifact</span></span>
<span><span class="va">artifact</span><span class="op">$</span><span class="fu">describe</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Artifact</span><span style="font-weight: bold; font-weight: 100;"> .parquet/DataFrame</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">├── </span><span style="color: #55FFFF; font-weight: bold;">General</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.uid = '9Xux7XhseJLE6uBR0000'</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.key = 'my_datasets/rnaseq1.parquet'</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.size = 8641</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.hash = 'KxOC-N4iTwBdjR7_oU0brA'</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.n_observations = 3</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.path = </span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   │   /tmp/RtmpNBC32Y/laminr-intro-20250502130420</span>/.lamindb/9Xux7XhseJLE6uBR000</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   │   </span>0.parquet</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.created_by = testuser1 (Test User1)</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.created_at = <span style="font-weight: 100;">2025-05-02 13:04:43</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   └── </span><span style="color: #00BBBB;">.transform = 'introduction.Rmd'</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">└── </span><span style="color: #FFFF55; font-weight: bold;">Labels</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">    └── </span>.cell_types        <span style="font-weight: 100;"> bionty.CellType   </span> effector T cell                  </span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">        </span>.ulabels           <span style="font-weight: 100;"> ULabel            </span> My experiment</span></span>
<span></span>
<span><span class="va">ln</span><span class="op">$</span><span class="va">Artifact</span><span class="op">$</span><span class="fu">filter</span><span class="op">(</span>cell_types <span class="op">=</span> <span class="va">cell_type</span><span class="op">)</span><span class="op">$</span><span class="fu">df</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;                    uid                         key description   suffix    kind</span></span>
<span><span class="co">#&gt; 1 9Xux7XhseJLE6uBR0000 my_datasets/rnaseq1.parquet        &lt;NA&gt; .parquet dataset</span></span>
<span><span class="co">#&gt;       otype size                   hash n_files n_observations _hash_type</span></span>
<span><span class="co">#&gt; 1 DataFrame 8641 KxOC-N4iTwBdjR7_oU0brA    &lt;NA&gt;              3        md5</span></span>
<span><span class="co">#&gt;   _key_is_virtual _overwrite_versions space_id storage_id schema_id version</span></span>
<span><span class="co">#&gt; 1            TRUE               FALSE        1          1      &lt;NA&gt;    &lt;NA&gt;</span></span>
<span><span class="co">#&gt;   is_latest run_id          created_at created_by_id _aux _branch_code</span></span>
<span><span class="co">#&gt; 1      TRUE      1 2025-05-02 13:04:43             1 &lt;NA&gt;            1</span></span>
<span></span>
<span><span class="co"># define the "temperature" &amp; "experiment" features</span></span>
<span><span class="va">ln</span><span class="op">$</span><span class="fu">Feature</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"temperature"</span>, dtype <span class="op">=</span> <span class="st">"float"</span><span class="op">)</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Feature(uid='yVJFbnVzZxvh', name='temperature', dtype='float', array_rank=0, array_size=0, space_id=1, created_by_id=1, run_id=1, created_at=2025-05-02 13:05:00 UTC)</span></span>
<span><span class="va">ln</span><span class="op">$</span><span class="fu">Feature</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"experiment"</span>, dtype <span class="op">=</span> <span class="va">ln</span><span class="op">$</span><span class="va">ULabel</span><span class="op">)</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Feature(uid='UtVGwgrapEaZ', name='experiment', dtype='cat[ULabel]', array_rank=0, array_size=0, space_id=1, created_by_id=1, run_id=1, created_at=2025-05-02 13:05:01 UTC)</span></span>
<span></span>
<span><span class="co"># annotate the artifact</span></span>
<span><span class="va">artifact</span><span class="op">$</span><span class="va">features</span><span class="op">$</span><span class="fu">add_values</span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"temperature"</span> <span class="op">=</span> <span class="fl">21.6</span>, <span class="st">"experiment"</span> <span class="op">=</span> <span class="st">"My experiment"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># describe the artifact</span></span>
<span><span class="va">artifact</span><span class="op">$</span><span class="fu">describe</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Artifact</span><span style="font-weight: bold; font-weight: 100;"> .parquet/DataFrame</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">├── </span><span style="color: #55FFFF; font-weight: bold;">General</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.uid = '9Xux7XhseJLE6uBR0000'</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.key = 'my_datasets/rnaseq1.parquet'</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.size = 8641</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.hash = 'KxOC-N4iTwBdjR7_oU0brA'</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.n_observations = 3</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.path = </span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   │   /tmp/RtmpNBC32Y/laminr-intro-20250502130420</span>/.lamindb/9Xux7XhseJLE6uBR000</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   │   </span>0.parquet</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.created_by = testuser1 (Test User1)</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.created_at = <span style="font-weight: 100;">2025-05-02 13:04:43</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   └── </span><span style="color: #00BBBB;">.transform = 'introduction.Rmd'</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">├── </span><span style="color: #FF5555; font-weight: bold;">Linked features</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   └── </span>experiment         <span style="font-weight: 100;"> cat[ULabel]       </span> My experiment                    </span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│       </span>temperature        <span style="font-weight: 100;"> float             </span> 21.6                             </span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">└── </span><span style="color: #FFFF55; font-weight: bold;">Labels</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">    └── </span>.cell_types        <span style="font-weight: 100;"> bionty.CellType   </span> effector T cell                  </span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">        </span>.ulabels           <span style="font-weight: 100;"> ULabel            </span> My experiment</span></span>
<span></span>
<span><span class="va">ln</span><span class="op">$</span><span class="va">Artifact</span><span class="op">$</span><span class="fu">filter</span><span class="op">(</span>temperature <span class="op">=</span> <span class="fl">21.6</span><span class="op">)</span><span class="op">$</span><span class="fu">df</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;                    uid                         key description   suffix    kind</span></span>
<span><span class="co">#&gt; 1 9Xux7XhseJLE6uBR0000 my_datasets/rnaseq1.parquet        &lt;NA&gt; .parquet dataset</span></span>
<span><span class="co">#&gt;       otype size                   hash n_files n_observations _hash_type</span></span>
<span><span class="co">#&gt; 1 DataFrame 8641 KxOC-N4iTwBdjR7_oU0brA    &lt;NA&gt;              3        md5</span></span>
<span><span class="co">#&gt;   _key_is_virtual _overwrite_versions space_id storage_id schema_id version</span></span>
<span><span class="co">#&gt; 1            TRUE               FALSE        1          1      &lt;NA&gt;    &lt;NA&gt;</span></span>
<span><span class="co">#&gt;   is_latest run_id          created_at created_by_id _aux _branch_code</span></span>
<span><span class="co">#&gt; 1      TRUE      1 2025-05-02 13:04:43             1 &lt;NA&gt;            1</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="validate-an-artifact">Validate an artifact<a class="anchor" aria-label="anchor" href="#validate-an-artifact"></a>
</h3>
<p>See <a href="https://docs.lamin.ai/introduction#validate-an-artifact" class="external-link uri">https://docs.lamin.ai/introduction#validate-an-artifact</a></p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bt</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/import_module.html">import_module</a></span><span class="op">(</span><span class="st">"bionty"</span><span class="op">)</span>  <span class="co"># &lt;-- use bionty to access registries with imported public ontologies</span></span>
<span></span>
<span><span class="co"># define a few more valid labels</span></span>
<span><span class="va">ln</span><span class="op">$</span><span class="fu">ULabel</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"DMSO"</span><span class="op">)</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; ULabel(uid='kOVSowar', name='DMSO', is_type=False, space_id=1, created_by_id=1, run_id=1, created_at=2025-05-02 13:05:01 UTC)</span></span>
<span><span class="va">ln</span><span class="op">$</span><span class="fu">ULabel</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"IFNG"</span><span class="op">)</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; ULabel(uid='ocL0vwUa', name='IFNG', is_type=False, space_id=1, created_by_id=1, run_id=1, created_at=2025-05-02 13:05:01 UTC)</span></span>
<span></span>
<span><span class="co"># define a few more valid features</span></span>
<span><span class="va">ln</span><span class="op">$</span><span class="fu">Feature</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"perturbation"</span>, dtype <span class="op">=</span> <span class="va">ln</span><span class="op">$</span><span class="va">ULabel</span><span class="op">)</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Feature(uid='ojJDYnyvJRXE', name='perturbation', dtype='cat[ULabel]', array_rank=0, array_size=0, space_id=1, created_by_id=1, run_id=1, created_at=2025-05-02 13:05:01 UTC)</span></span>
<span><span class="va">ln</span><span class="op">$</span><span class="fu">Feature</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"cell_type_by_model"</span>, dtype <span class="op">=</span> <span class="va">bt</span><span class="op">$</span><span class="va">CellType</span><span class="op">)</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Feature(uid='cWlmRklEOjTR', name='cell_type_by_model', dtype='cat[bionty.CellType]', array_rank=0, array_size=0, space_id=1, created_by_id=1, run_id=1, created_at=2025-05-02 13:05:01 UTC)</span></span>
<span><span class="va">ln</span><span class="op">$</span><span class="fu">Feature</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"cell_type_by_expert"</span>, dtype <span class="op">=</span> <span class="va">bt</span><span class="op">$</span><span class="va">CellType</span><span class="op">)</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Feature(uid='uH8wUnbQkIyF', name='cell_type_by_expert', dtype='cat[bionty.CellType]', array_rank=0, array_size=0, space_id=1, created_by_id=1, run_id=1, created_at=2025-05-02 13:05:02 UTC)</span></span>
<span><span class="va">ln</span><span class="op">$</span><span class="fu">Feature</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"assay_oid"</span>, dtype <span class="op">=</span> <span class="va">bt</span><span class="op">$</span><span class="va">ExperimentalFactor</span><span class="op">$</span><span class="va">ontology_id</span><span class="op">)</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Feature(uid='U2AuBail37W7', name='assay_oid', dtype='cat[bionty.ExperimentalFactor.ontology_id]', array_rank=0, array_size=0, space_id=1, created_by_id=1, run_id=1, created_at=2025-05-02 13:05:02 UTC)</span></span>
<span><span class="va">ln</span><span class="op">$</span><span class="fu">Feature</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"donor"</span>, dtype <span class="op">=</span> <span class="st">"str"</span>, nullable <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Feature(uid='7wBljzwjtJa3', name='donor', dtype='str', array_rank=0, array_size=0, space_id=1, created_by_id=1, run_id=1, created_at=2025-05-02 13:05:02 UTC)</span></span>
<span><span class="va">ln</span><span class="op">$</span><span class="fu">Feature</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"concentration"</span>, dtype <span class="op">=</span> <span class="st">"str"</span><span class="op">)</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Feature(uid='fWHYyWoxLgG7', name='concentration', dtype='str', array_rank=0, array_size=0, space_id=1, created_by_id=1, run_id=1, created_at=2025-05-02 13:05:02 UTC)</span></span>
<span><span class="va">ln</span><span class="op">$</span><span class="fu">Feature</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"treatment_time_h"</span>, dtype <span class="op">=</span> <span class="st">"num"</span>, coerce_dtype <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Feature(uid='pkXg6CLmigRz', name='treatment_time_h', dtype='num', array_rank=0, array_size=0, space_id=1, created_by_id=1, run_id=1, created_at=2025-05-02 13:05:02 UTC)</span></span>
<span></span>
<span><span class="co"># define a schema that merely enforces a feature identifier type</span></span>
<span><span class="va">schema</span> <span class="op">&lt;-</span> <span class="va">ln</span><span class="op">$</span><span class="fu">Schema</span><span class="op">(</span>itype <span class="op">=</span> <span class="va">ln</span><span class="op">$</span><span class="va">Feature</span><span class="op">)</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">testthat</span><span class="fu">::</span><span class="fu"><a href="https://testthat.r-lib.org/reference/expect_error.html" class="external-link">expect_error</a></span><span class="op">(</span></span>
<span>  <span class="va">artifact</span> <span class="op">&lt;-</span> <span class="va">ln</span><span class="op">$</span><span class="va">Artifact</span><span class="op">$</span><span class="fu">from_df</span><span class="op">(</span></span>
<span>    <span class="va">df</span>, key <span class="op">=</span> <span class="st">"my_datasets/rnaseq1.parquet"</span>, schema <span class="op">=</span> <span class="va">schema</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #55FF55;">→</span> returning existing artifact with same hash: Artifact(uid='9Xux7XhseJLE6uBR0000', is_latest=True, key='my_datasets/rnaseq1.parquet', suffix='.parquet', kind='dataset', otype='DataFrame', size=8641, hash='KxOC-N4iTwBdjR7_oU0brA', n_observations=3, space_id=1, storage_id=1, run_id=1, created_by_id=1, created_at=2025-05-02 13:04:43 UTC); to track this artifact as an input, use: ln.Artifact.get()</span></span>
<span><span class="co">#&gt; <span style="color: #FFFF55;">!</span>   <span style="color: #FF5555; font-weight: bold;">1 term</span> is not validated: <span style="color: #FF5555; font-weight: bold;">'IFNJ'</span></span></span>
<span><span class="co">#&gt;     → fix typos, remove non-existent values, or save terms via <span style="color: #55FFFF; font-weight: bold;">.add_new_from("perturbation")</span></span></span>
<span><span class="co">#&gt; ... synchronizing df_all__efo__3.70.0__ExperimentalFactor.parquet:  0.0%... synchronizing df_all__efo__3.70.0__ExperimentalFactor.parquet:  0.9%... synchronizing df_all__efo__3.70.0__ExperimentalFactor.parquet:  4.6%... synchronizing df_all__efo__3.70.0__ExperimentalFactor.parquet:  5.7%... synchronizing df_all__efo__3.70.0__ExperimentalFactor.parquet:  9.4%... synchronizing df_all__efo__3.70.0__ExperimentalFactor.parquet: 13.0%... synchronizing df_all__efo__3.70.0__ExperimentalFactor.parquet: 16.6%... synchronizing df_all__efo__3.70.0__ExperimentalFactor.parquet: 20.2%... synchronizing df_all__efo__3.70.0__ExperimentalFactor.parquet: 23.8%... synchronizing df_all__efo__3.70.0__ExperimentalFactor.parquet: 27.4%... synchronizing df_all__efo__3.70.0__ExperimentalFactor.parquet: 31.1%... synchronizing df_all__efo__3.70.0__ExperimentalFactor.parquet: 34.6%... synchronizing df_all__efo__3.70.0__ExperimentalFactor.parquet: 38.3%... synchronizing df_all__efo__3.70.0__ExperimentalFactor.parquet: 41.9%... synchronizing df_all__efo__3.70.0__ExperimentalFactor.parquet: 45.5%... synchronizing df_all__efo__3.70.0__ExperimentalFactor.parquet: 49.1%... synchronizing df_all__efo__3.70.0__ExperimentalFactor.parquet: 52.7%... synchronizing df_all__efo__3.70.0__ExperimentalFactor.parquet: 56.3%... synchronizing df_all__efo__3.70.0__ExperimentalFactor.parquet: 59.9%... synchronizing df_all__efo__3.70.0__ExperimentalFactor.parquet: 63.5%... synchronizing df_all__efo__3.70.0__ExperimentalFactor.parquet: 67.1%... synchronizing df_all__efo__3.70.0__ExperimentalFactor.parquet: 70.8%... synchronizing df_all__efo__3.70.0__ExperimentalFactor.parquet: 74.4%... synchronizing df_all__efo__3.70.0__ExperimentalFactor.parquet: 77.9%... synchronizing df_all__efo__3.70.0__ExperimentalFactor.parquet: 81.6%... synchronizing df_all__efo__3.70.0__ExperimentalFactor.parquet: 85.2%... synchronizing df_all__efo__3.70.0__ExperimentalFactor.parquet: 88.8%... synchronizing df_all__efo__3.70.0__ExperimentalFactor.parquet: 92.4%... synchronizing df_all__efo__3.70.0__ExperimentalFactor.parquet: 96.0%... synchronizing df_all__efo__3.70.0__ExperimentalFactor.parquet: 99.6%... synchronizing df_all__efo__3.70.0__ExperimentalFactor.parquet: 100.0%</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="make-a-new-version-of-an-artifact">Make a new version of an artifact<a class="anchor" aria-label="anchor" href="#make-a-new-version-of-an-artifact"></a>
</h3>
<p>See <a href="https://docs.lamin.ai/introduction#make-a-new-version-of-an-artifact" class="external-link uri">https://docs.lamin.ai/introduction#make-a-new-version-of-an-artifact</a></p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># fix the "IFNJ" typo</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">perturbation</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"DMSO"</span>, <span class="st">"IFNG"</span><span class="op">)</span></span>
<span><span class="va">df</span><span class="op">[</span><span class="st">"sample2"</span>, <span class="st">"perturbation"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"IFNG"</span></span>
<span></span>
<span><span class="co"># create a new version</span></span>
<span><span class="va">artifact</span> <span class="op">&lt;-</span> <span class="va">ln</span><span class="op">$</span><span class="va">Artifact</span><span class="op">$</span><span class="fu">from_df</span><span class="op">(</span><span class="va">df</span>, key <span class="op">=</span> <span class="st">"my_datasets/rnaseq1.parquet"</span>, schema <span class="op">=</span> <span class="va">schema</span><span class="op">)</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #55FF55;">→</span> creating new artifact version for key='my_datasets/rnaseq1.parquet' (storage: '/tmp/RtmpNBC32Y/laminr-intro-20250502130420')</span></span>
<span><span class="co">#&gt; <span style="color: #FFFF55;">!</span> <span style="color: #FFFF55; font-weight: bold;">4 unique terms</span> (36.40%) are not validated for <span style="font-style: italic;">name</span>: <span style="color: #FFFF55; font-weight: bold;">'ENSG00000153563', 'ENSG00000010610', 'ENSG00000170458', 'sample_note'</span></span></span>
<span></span>
<span><span class="co"># see the annotations</span></span>
<span><span class="va">artifact</span><span class="op">$</span><span class="fu">describe</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Artifact</span><span style="font-weight: bold; font-weight: 100;"> .parquet/DataFrame</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">├── </span><span style="color: #55FFFF; font-weight: bold;">General</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.uid = '9Xux7XhseJLE6uBR0001'</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.key = 'my_datasets/rnaseq1.parquet'</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.size = 8641</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.hash = '3btdhd79VO_GjdaFAxprSg'</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.n_observations = 3</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.path = </span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   │   /tmp/RtmpNBC32Y/laminr-intro-20250502130420</span>/.lamindb/9Xux7XhseJLE6uBR000</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   │   </span>1.parquet</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.created_by = testuser1 (Test User1)</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.created_at = <span style="font-weight: 100;">2025-05-02 13:06:07</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   └── </span><span style="color: #00BBBB;">.transform = 'introduction.Rmd'</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">├── </span><span style="color: #FF55FF; font-weight: bold;">Dataset features</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   └── </span><span style="color: #FF55FF; font-weight: bold;">columns</span><span style="font-weight: bold; font-weight: 100;"> • </span><span style="color: #BBBBBB; font-weight: bold;">7</span><span style="font-weight: bold;">         </span><span style="color: #BBBBBB; font-weight: bold;">[Feature]</span><span style="font-weight: bold;">                                           </span></span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│       </span>assay_oid          <span style="font-weight: 100;"> cat[bionty.Exper… </span> single-cell RNA sequencing       </span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│       </span>cell_type_by_expe… <span style="font-weight: 100;"> cat[bionty.CellT… </span> B cell, CD8-positive, alpha-beta…</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│       </span>cell_type_by_model <span style="font-weight: 100;"> cat[bionty.CellT… </span> B cell, T cell                   </span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│       </span>perturbation       <span style="font-weight: 100;"> cat[ULabel]       </span> DMSO, IFNG                       </span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│       </span>donor              <span style="font-weight: 100;"> str               </span>                                  </span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│       </span>concentration      <span style="font-weight: 100;"> str               </span>                                  </span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│       </span>treatment_time_h   <span style="font-weight: 100;"> num               </span>                                  </span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">└── </span><span style="color: #FFFF55; font-weight: bold;">Labels</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">    └── </span>.cell_types        <span style="font-weight: 100;"> bionty.CellType   </span> T cell, B cell, CD8-positive, al…</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">        </span>.experimental_fac… <span style="font-weight: 100;"> bionty.Experimen… </span> single-cell RNA sequencing       </span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">        </span>.ulabels           <span style="font-weight: 100;"> ULabel            </span> DMSO, IFNG</span></span>
<span></span>
<span><span class="co"># simplest way to check that artifact was validated</span></span>
<span><span class="va">artifact</span><span class="op">$</span><span class="va">schema</span></span>
<span><span class="co">#&gt; Schema(uid='SdJa90kW9wtB97Z56Emr', n=-1, itype='Feature', is_type=False, hash='g2J9bi8LKs3KVM0SU4hU9w', minimal_set=True, ordered_set=False, maximal_set=False, space_id=1, created_by_id=1, run_id=1, created_at=2025-05-02 13:05:02 UTC)</span></span>
<span></span>
<span><span class="co"># see all versions of an artifact</span></span>
<span><span class="va">artifact</span><span class="op">$</span><span class="va">versions</span><span class="op">$</span><span class="fu">df</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;                    uid                         key description   suffix    kind</span></span>
<span><span class="co">#&gt; 2 9Xux7XhseJLE6uBR0001 my_datasets/rnaseq1.parquet        &lt;NA&gt; .parquet dataset</span></span>
<span><span class="co">#&gt; 1 9Xux7XhseJLE6uBR0000 my_datasets/rnaseq1.parquet        &lt;NA&gt; .parquet dataset</span></span>
<span><span class="co">#&gt;       otype size                   hash n_files n_observations _hash_type</span></span>
<span><span class="co">#&gt; 2 DataFrame 8641 3btdhd79VO_GjdaFAxprSg    &lt;NA&gt;              3        md5</span></span>
<span><span class="co">#&gt; 1 DataFrame 8641 KxOC-N4iTwBdjR7_oU0brA    &lt;NA&gt;              3        md5</span></span>
<span><span class="co">#&gt;   _key_is_virtual _overwrite_versions space_id storage_id schema_id version</span></span>
<span><span class="co">#&gt; 2            TRUE               FALSE        1          1         1    &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 1            TRUE               FALSE        1          1       NaN    &lt;NA&gt;</span></span>
<span><span class="co">#&gt;   is_latest run_id          created_at created_by_id _aux _branch_code</span></span>
<span><span class="co">#&gt; 2      TRUE      1 2025-05-02 13:06:07             1 &lt;NA&gt;            1</span></span>
<span><span class="co">#&gt; 1     FALSE      1 2025-05-02 13:04:43             1 &lt;NA&gt;            1</span></span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">artifact_v1</span> <span class="op">&lt;-</span> <span class="va">ln</span><span class="op">$</span><span class="va">Artifact</span><span class="op">$</span><span class="fu">from_df</span><span class="op">(</span><span class="va">df</span>, description <span class="op">=</span> <span class="st">"Just a description"</span><span class="op">)</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #55FF55;">→</span> returning existing artifact with same hash: Artifact(uid='9Xux7XhseJLE6uBR0001', is_latest=True, key='my_datasets/rnaseq1.parquet', suffix='.parquet', kind='dataset', otype='DataFrame', size=8641, hash='3btdhd79VO_GjdaFAxprSg', n_observations=3, space_id=1, storage_id=1, run_id=1, schema_id=1, created_by_id=1, created_at=2025-05-02 13:06:07 UTC); to track this artifact as an input, use: ln.Artifact.get()</span></span>
<span><span class="co">#&gt; <span style="color: #FFFF55;">!</span> updated description from None to Just a description</span></span>
<span><span class="co"># below revises artifact_v1</span></span>
<span><span class="va">df_updated</span> <span class="op">&lt;-</span> <span class="va">df</span></span>
<span><span class="va">df_updated</span><span class="op">[</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">10</span></span>
<span><span class="va">artifact_v2</span> <span class="op">&lt;-</span> <span class="va">ln</span><span class="op">$</span><span class="va">Artifact</span><span class="op">$</span><span class="fu">from_df</span><span class="op">(</span><span class="va">df_updated</span>, revises <span class="op">=</span> <span class="va">artifact_v1</span><span class="op">)</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="query-search-registries">Query &amp; search registries<a class="anchor" aria-label="anchor" href="#query-search-registries"></a>
</h2>
<p>See <a href="https://docs.lamin.ai/introduction#query-search-registries" class="external-link uri">https://docs.lamin.ai/introduction#query-search-registries</a></p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ln</span><span class="op">$</span><span class="va">Artifact</span><span class="op">$</span><span class="fu">df</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;                    uid                         key        description   suffix</span></span>
<span><span class="co">#&gt; 3 9Xux7XhseJLE6uBR0002 my_datasets/rnaseq1.parquet Just a description .parquet</span></span>
<span><span class="co">#&gt; 2 9Xux7XhseJLE6uBR0001 my_datasets/rnaseq1.parquet Just a description .parquet</span></span>
<span><span class="co">#&gt; 1 9Xux7XhseJLE6uBR0000 my_datasets/rnaseq1.parquet               &lt;NA&gt; .parquet</span></span>
<span><span class="co">#&gt;      kind     otype size                   hash n_files n_observations</span></span>
<span><span class="co">#&gt; 3 dataset DataFrame 8641 Nlzjwti4AVVp2IqeOvkoNw    &lt;NA&gt;              3</span></span>
<span><span class="co">#&gt; 2 dataset DataFrame 8641 3btdhd79VO_GjdaFAxprSg    &lt;NA&gt;              3</span></span>
<span><span class="co">#&gt; 1 dataset DataFrame 8641 KxOC-N4iTwBdjR7_oU0brA    &lt;NA&gt;              3</span></span>
<span><span class="co">#&gt;   _hash_type _key_is_virtual _overwrite_versions space_id storage_id schema_id</span></span>
<span><span class="co">#&gt; 3        md5            TRUE               FALSE        1          1       NaN</span></span>
<span><span class="co">#&gt; 2        md5            TRUE               FALSE        1          1         1</span></span>
<span><span class="co">#&gt; 1        md5            TRUE               FALSE        1          1       NaN</span></span>
<span><span class="co">#&gt;   version is_latest run_id          created_at created_by_id _aux _branch_code</span></span>
<span><span class="co">#&gt; 3    &lt;NA&gt;      TRUE      1 2025-05-02 13:06:09             1 &lt;NA&gt;            1</span></span>
<span><span class="co">#&gt; 2    &lt;NA&gt;     FALSE      1 2025-05-02 13:06:07             1 &lt;NA&gt;            1</span></span>
<span><span class="co">#&gt; 1    &lt;NA&gt;     FALSE      1 2025-05-02 13:04:43             1 &lt;NA&gt;            1</span></span>
<span></span>
<span><span class="va">ln</span><span class="op">$</span><span class="va">Artifact</span><span class="op">$</span><span class="fu">df</span><span class="op">(</span>features <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt;                    uid                         key        description</span></span>
<span><span class="co">#&gt; 3 9Xux7XhseJLE6uBR0002 my_datasets/rnaseq1.parquet Just a description</span></span>
<span><span class="co">#&gt; 2 9Xux7XhseJLE6uBR0001 my_datasets/rnaseq1.parquet Just a description</span></span>
<span><span class="co">#&gt; 1 9Xux7XhseJLE6uBR0000 my_datasets/rnaseq1.parquet               &lt;NA&gt;</span></span>
<span><span class="co">#&gt;             cell_type_by_expert            cell_type_by_model</span></span>
<span><span class="co">#&gt; 3                           NaN                           NaN</span></span>
<span><span class="co">#&gt; 2 &lt;environment: 0x5612dc1f8818&gt; &lt;environment: 0x5612dc1f70b0&gt;</span></span>
<span><span class="co">#&gt; 1                           NaN                           NaN</span></span>
<span><span class="co">#&gt;                      experiment                  perturbation</span></span>
<span><span class="co">#&gt; 3                           NaN                           NaN</span></span>
<span><span class="co">#&gt; 2                           NaN &lt;environment: 0x5612dc1fbba0&gt;</span></span>
<span><span class="co">#&gt; 1 &lt;environment: 0x5612dc1f9580&gt;                           NaN</span></span>
<span><span class="co">#&gt;                     temperature</span></span>
<span><span class="co">#&gt; 3 &lt;environment: 0x5612dc200000&gt;</span></span>
<span><span class="co">#&gt; 2                           NaN</span></span>
<span><span class="co">#&gt; 1                           NaN</span></span>
<span></span>
<span><span class="va">ln</span><span class="op">$</span><span class="va">Artifact</span></span>
<span><span class="co">#&gt; <span style="color: #55FF55; font-weight: bold;">Artifact</span></span></span>
<span><span class="co">#&gt;   <span style="font-style: italic;">Simple fields</span></span></span>
<span><span class="co">#&gt;     .uid: CharField</span></span>
<span><span class="co">#&gt;     .key: CharField</span></span>
<span><span class="co">#&gt;     .description: CharField</span></span>
<span><span class="co">#&gt;     .suffix: CharField</span></span>
<span><span class="co">#&gt;     .kind: CharField</span></span>
<span><span class="co">#&gt;     .otype: CharField</span></span>
<span><span class="co">#&gt;     .size: BigIntegerField</span></span>
<span><span class="co">#&gt;     .hash: CharField</span></span>
<span><span class="co">#&gt;     .n_files: BigIntegerField</span></span>
<span><span class="co">#&gt;     .n_observations: BigIntegerField</span></span>
<span><span class="co">#&gt;     .version: CharField</span></span>
<span><span class="co">#&gt;     .is_latest: BooleanField</span></span>
<span><span class="co">#&gt;     .created_at: DateTimeField</span></span>
<span><span class="co">#&gt;     .updated_at: DateTimeField</span></span>
<span><span class="co">#&gt;   <span style="font-style: italic;">Relational fields</span></span></span>
<span><span class="co">#&gt;     .space: Space</span></span>
<span><span class="co">#&gt;     .storage: Storage</span></span>
<span><span class="co">#&gt;     .run: Run</span></span>
<span><span class="co">#&gt;     .schema: Schema</span></span>
<span><span class="co">#&gt;     .created_by: User</span></span>
<span><span class="co">#&gt;     .ulabels: ULabel</span></span>
<span><span class="co">#&gt;     .input_of_runs: Run</span></span>
<span><span class="co">#&gt;     .feature_sets: Schema</span></span>
<span><span class="co">#&gt;     .collections: Collection</span></span>
<span><span class="co">#&gt;     .references: Reference</span></span>
<span><span class="co">#&gt;     .projects: Project</span></span>
<span><span class="co">#&gt;   <span style="font-style: italic;">Bionty fields</span></span></span>
<span><span class="co">#&gt;     .organisms: bionty.Organism</span></span>
<span><span class="co">#&gt;     .genes: bionty.Gene</span></span>
<span><span class="co">#&gt;     .proteins: bionty.Protein</span></span>
<span><span class="co">#&gt;     .cell_markers: bionty.CellMarker</span></span>
<span><span class="co">#&gt;     .tissues: bionty.Tissue</span></span>
<span><span class="co">#&gt;     .cell_types: bionty.CellType</span></span>
<span><span class="co">#&gt;     .diseases: bionty.Disease</span></span>
<span><span class="co">#&gt;     .cell_lines: bionty.CellLine</span></span>
<span><span class="co">#&gt;     .phenotypes: bionty.Phenotype</span></span>
<span><span class="co">#&gt;     .pathways: bionty.Pathway</span></span>
<span><span class="co">#&gt;     .experimental_factors: bionty.ExperimentalFactor</span></span>
<span><span class="co">#&gt;     .developmental_stages: bionty.DevelopmentalStage</span></span>
<span><span class="co">#&gt;     .ethnicities: bionty.Ethnicity</span></span>
<span><span class="co">#&gt;  signature: (*args, **kwargs)</span></span>
<span></span>
<span><span class="va">ln</span><span class="op">$</span><span class="fu">view</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; ****************</span></span>
<span><span class="co">#&gt; * module: <span style="color: #55FF55; font-weight: bold;">core</span> *</span></span>
<span><span class="co">#&gt; ****************</span></span>
<span><span class="co">#&gt; <span style="color: #5555FF; font-weight: bold;">Artifact</span></span></span>
<span><span class="co">#&gt;                      uid                          key         description  \</span></span>
<span><span class="co">#&gt; id                                                                          </span></span>
<span><span class="co">#&gt; 3   9Xux7XhseJLE6uBR0002  my_datasets/rnaseq1.parquet  Just a description   </span></span>
<span><span class="co">#&gt; 2   9Xux7XhseJLE6uBR0001  my_datasets/rnaseq1.parquet  Just a description   </span></span>
<span><span class="co">#&gt; 1   9Xux7XhseJLE6uBR0000  my_datasets/rnaseq1.parquet                None   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;       suffix     kind      otype  size                    hash n_files  \</span></span>
<span><span class="co">#&gt; id                                                                       </span></span>
<span><span class="co">#&gt; 3   .parquet  dataset  DataFrame  8641  Nlzjwti4AVVp2IqeOvkoNw    None   </span></span>
<span><span class="co">#&gt; 2   .parquet  dataset  DataFrame  8641  3btdhd79VO_GjdaFAxprSg    None   </span></span>
<span><span class="co">#&gt; 1   .parquet  dataset  DataFrame  8641  KxOC-N4iTwBdjR7_oU0brA    None   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     n_observations _hash_type  _key_is_virtual  _overwrite_versions  space_id  \</span></span>
<span><span class="co">#&gt; id                                                                              </span></span>
<span><span class="co">#&gt; 3                3        md5             True                False         1   </span></span>
<span><span class="co">#&gt; 2                3        md5             True                False         1   </span></span>
<span><span class="co">#&gt; 1                3        md5             True                False         1   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     storage_id  schema_id version  is_latest  run_id  \</span></span>
<span><span class="co">#&gt; id                                                     </span></span>
<span><span class="co">#&gt; 3            1        NaN    None       True       1   </span></span>
<span><span class="co">#&gt; 2            1        1.0    None      False       1   </span></span>
<span><span class="co">#&gt; 1            1        NaN    None      False       1   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;                          created_at  created_by_id  _aux  _branch_code  </span></span>
<span><span class="co">#&gt; id                                                                      </span></span>
<span><span class="co">#&gt; 3  2025-05-02 13:06:09.131000+00:00              1  None             1  </span></span>
<span><span class="co">#&gt; 2  2025-05-02 13:06:07.437000+00:00              1  None             1  </span></span>
<span><span class="co">#&gt; 1  2025-05-02 13:04:43.908000+00:00              1  None             1  </span></span>
<span><span class="co">#&gt; <span style="color: #5555FF; font-weight: bold;">Feature</span></span></span>
<span><span class="co">#&gt;              uid                 name  \</span></span>
<span><span class="co">#&gt; id                                      </span></span>
<span><span class="co">#&gt; 9   pkXg6CLmigRz     treatment_time_h   </span></span>
<span><span class="co">#&gt; 8   fWHYyWoxLgG7        concentration   </span></span>
<span><span class="co">#&gt; 7   7wBljzwjtJa3                donor   </span></span>
<span><span class="co">#&gt; 6   U2AuBail37W7            assay_oid   </span></span>
<span><span class="co">#&gt; 5   uH8wUnbQkIyF  cell_type_by_expert   </span></span>
<span><span class="co">#&gt; 4   cWlmRklEOjTR   cell_type_by_model   </span></span>
<span><span class="co">#&gt; 3   ojJDYnyvJRXE         perturbation   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;                                          dtype is_type  unit description  \</span></span>
<span><span class="co">#&gt; id                                                                         </span></span>
<span><span class="co">#&gt; 9                                          num    None  None        None   </span></span>
<span><span class="co">#&gt; 8                                          str    None  None        None   </span></span>
<span><span class="co">#&gt; 7                                          str    None  None        None   </span></span>
<span><span class="co">#&gt; 6   cat[bionty.ExperimentalFactor.ontology_id]    None  None        None   </span></span>
<span><span class="co">#&gt; 5                         cat[bionty.CellType]    None  None        None   </span></span>
<span><span class="co">#&gt; 4                         cat[bionty.CellType]    None  None        None   </span></span>
<span><span class="co">#&gt; 3                                  cat[ULabel]    None  None        None   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     array_rank  array_size array_shape proxy_dtype synonyms  _expect_many  \</span></span>
<span><span class="co">#&gt; id                                                                          </span></span>
<span><span class="co">#&gt; 9            0           0        None        None     None          True   </span></span>
<span><span class="co">#&gt; 8            0           0        None        None     None          True   </span></span>
<span><span class="co">#&gt; 7            0           0        None        None     None          True   </span></span>
<span><span class="co">#&gt; 6            0           0        None        None     None          True   </span></span>
<span><span class="co">#&gt; 5            0           0        None        None     None          True   </span></span>
<span><span class="co">#&gt; 4            0           0        None        None     None          True   </span></span>
<span><span class="co">#&gt; 3            0           0        None        None     None          True   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    _curation  space_id type_id  run_id                       created_at  \</span></span>
<span><span class="co">#&gt; id                                                                        </span></span>
<span><span class="co">#&gt; 9       None         1    None       1 2025-05-02 13:05:02.485000+00:00   </span></span>
<span><span class="co">#&gt; 8       None         1    None       1 2025-05-02 13:05:02.390000+00:00   </span></span>
<span><span class="co">#&gt; 7       None         1    None       1 2025-05-02 13:05:02.294000+00:00   </span></span>
<span><span class="co">#&gt; 6       None         1    None       1 2025-05-02 13:05:02.191000+00:00   </span></span>
<span><span class="co">#&gt; 5       None         1    None       1 2025-05-02 13:05:02.021000+00:00   </span></span>
<span><span class="co">#&gt; 4       None         1    None       1 2025-05-02 13:05:01.849000+00:00   </span></span>
<span><span class="co">#&gt; 3       None         1    None       1 2025-05-02 13:05:01.674000+00:00   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     created_by_id                                        _aux  _branch_code  </span></span>
<span><span class="co">#&gt; id                                                                           </span></span>
<span><span class="co">#&gt; 9               1   {'af': {'0': None, '1': True, '2': True}}             1  </span></span>
<span><span class="co">#&gt; 8               1  {'af': {'0': None, '1': True, '2': False}}             1  </span></span>
<span><span class="co">#&gt; 7               1  {'af': {'0': None, '1': True, '2': False}}             1  </span></span>
<span><span class="co">#&gt; 6               1  {'af': {'0': None, '1': True, '2': False}}             1  </span></span>
<span><span class="co">#&gt; 5               1  {'af': {'0': None, '1': True, '2': False}}             1  </span></span>
<span><span class="co">#&gt; 4               1  {'af': {'0': None, '1': True, '2': False}}             1  </span></span>
<span><span class="co">#&gt; 3               1  {'af': {'0': None, '1': True, '2': False}}             1  </span></span>
<span><span class="co">#&gt; <span style="color: #5555FF; font-weight: bold;">FeatureValue</span></span></span>
<span><span class="co">#&gt;     value  hash  space_id  feature_id  run_id  \</span></span>
<span><span class="co">#&gt; id                                              </span></span>
<span><span class="co">#&gt; 1    21.6  None         1           1       1   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;                          created_at  created_by_id  _aux  _branch_code  </span></span>
<span><span class="co">#&gt; id                                                                      </span></span>
<span><span class="co">#&gt; 1  2025-05-02 13:05:01.117000+00:00              1  None             1  </span></span>
<span><span class="co">#&gt; <span style="color: #5555FF; font-weight: bold;">Run</span></span></span>
<span><span class="co">#&gt;                      uid  name                       started_at finished_at  \</span></span>
<span><span class="co">#&gt; id                                                                            </span></span>
<span><span class="co">#&gt; 1   QePKUiBzAyntU72jOYk8  None 2025-05-02 13:04:42.467365+00:00        None   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    reference reference_type _is_consecutive  _status_code  space_id  \</span></span>
<span><span class="co">#&gt; id                                                                    </span></span>
<span><span class="co">#&gt; 1       None           None            None             0         1   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     transform_id report_id _logfile_id environment_id initiated_by_run_id  \</span></span>
<span><span class="co">#&gt; id                                                                          </span></span>
<span><span class="co">#&gt; 1              1      None        None           None                None   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;                          created_at  created_by_id  _aux  _branch_code  </span></span>
<span><span class="co">#&gt; id                                                                      </span></span>
<span><span class="co">#&gt; 1  2025-05-02 13:04:42.468000+00:00              1  None             1  </span></span>
<span><span class="co">#&gt; <span style="color: #5555FF; font-weight: bold;">Schema</span></span></span>
<span><span class="co">#&gt;                      uid  name description  n    itype  is_type      otype  \</span></span>
<span><span class="co">#&gt; id                                                                           </span></span>
<span><span class="co">#&gt; 1   SdJa90kW9wtB97Z56Emr  None        None -1  Feature    False       None   </span></span>
<span><span class="co">#&gt; 2   vsPOGopuYWj1hw3FuEbR  None        None  7  Feature    False  DataFrame   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    dtype                    hash  minimal_set  ordered_set  maximal_set  \</span></span>
<span><span class="co">#&gt; id                                                                        </span></span>
<span><span class="co">#&gt; 1   None  g2J9bi8LKs3KVM0SU4hU9w         True        False        False   </span></span>
<span><span class="co">#&gt; 2   None  W4Xpb_Luy_jNpgY7feeeqA         True        False        False   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    _curation  slot  space_id type_id validated_by_id composite_id  run_id  \</span></span>
<span><span class="co">#&gt; id                                                                          </span></span>
<span><span class="co">#&gt; 1       None  None         1    None            None         None       1   </span></span>
<span><span class="co">#&gt; 2       None  None         1    None            None         None       1   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;                          created_at  created_by_id _aux  _branch_code  </span></span>
<span><span class="co">#&gt; id                                                                     </span></span>
<span><span class="co">#&gt; 1  2025-05-02 13:05:02.666000+00:00              1   {}             1  </span></span>
<span><span class="co">#&gt; 2  2025-05-02 13:06:07.467000+00:00              1   {}             1  </span></span>
<span><span class="co">#&gt; <span style="color: #5555FF; font-weight: bold;">Storage</span></span></span>
<span><span class="co">#&gt;              uid                                         root description  \</span></span>
<span><span class="co">#&gt; id                                                                          </span></span>
<span><span class="co">#&gt; 1   Cj1JibjjOSS5  /tmp/RtmpNBC32Y/laminr-intro-20250502130420        None   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;      type region  instance_uid  space_id run_id  \</span></span>
<span><span class="co">#&gt; id                                                </span></span>
<span><span class="co">#&gt; 1   local   None  7fB73ZtLATwt         1   None   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;                          created_at  created_by_id  _aux  _branch_code  </span></span>
<span><span class="co">#&gt; id                                                                      </span></span>
<span><span class="co">#&gt; 1  2025-05-02 13:04:39.925000+00:00              1  None             1  </span></span>
<span><span class="co">#&gt; <span style="color: #5555FF; font-weight: bold;">Transform</span></span></span>
<span><span class="co">#&gt;                  uid               key       description      type  \</span></span>
<span><span class="co">#&gt; id                                                                   </span></span>
<span><span class="co">#&gt; 1   ikvGgbdP1mzV0000  introduction.Rmd  introduction.Rmd  notebook   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    source_code  hash reference reference_type  space_id _template_id version  \</span></span>
<span><span class="co">#&gt; id                                                                             </span></span>
<span><span class="co">#&gt; 1         None  None      None           None         1         None    None   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     is_latest                       created_at  created_by_id  _aux  \</span></span>
<span><span class="co">#&gt; id                                                                    </span></span>
<span><span class="co">#&gt; 1        True 2025-05-02 13:04:42.462000+00:00              1  None   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     _branch_code  </span></span>
<span><span class="co">#&gt; id                </span></span>
<span><span class="co">#&gt; 1              1  </span></span>
<span><span class="co">#&gt; <span style="color: #5555FF; font-weight: bold;">ULabel</span></span></span>
<span><span class="co">#&gt;          uid           name  is_type description reference reference_type  \</span></span>
<span><span class="co">#&gt; id                                                                          </span></span>
<span><span class="co">#&gt; 3   ocL0vwUa           IFNG    False        None      None           None   </span></span>
<span><span class="co">#&gt; 2   kOVSowar           DMSO    False        None      None           None   </span></span>
<span><span class="co">#&gt; 1   zyZSQfVa  My experiment    False        None      None           None   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     space_id type_id  run_id                       created_at  created_by_id  \</span></span>
<span><span class="co">#&gt; id                                                                             </span></span>
<span><span class="co">#&gt; 3          1    None       1 2025-05-02 13:05:01.500000+00:00              1   </span></span>
<span><span class="co">#&gt; 2          1    None       1 2025-05-02 13:05:01.414000+00:00              1   </span></span>
<span><span class="co">#&gt; 1          1    None       1 2025-05-02 13:04:45.507000+00:00              1   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     _aux  _branch_code  </span></span>
<span><span class="co">#&gt; id                      </span></span>
<span><span class="co">#&gt; 3   None             1  </span></span>
<span><span class="co">#&gt; 2   None             1  </span></span>
<span><span class="co">#&gt; 1   None             1  </span></span>
<span><span class="co">#&gt; ******************</span></span>
<span><span class="co">#&gt; * module: <span style="color: #55FF55; font-weight: bold;">bionty</span> *</span></span>
<span><span class="co">#&gt; ******************</span></span>
<span><span class="co">#&gt; <span style="color: #5555FF; font-weight: bold;">CellType</span></span></span>
<span><span class="co">#&gt;          uid                             name ontology_id  abbr  \</span></span>
<span><span class="co">#&gt; id                                                                </span></span>
<span><span class="co">#&gt; 16  6By01L04                alpha-beta T cell  CL:0000789  None   </span></span>
<span><span class="co">#&gt; 17  4BEwsp1Q         mature alpha-beta T cell  CL:0000791  None   </span></span>
<span><span class="co">#&gt; 15  6IC9NGJE  CD8-positive, alpha-beta T cell  CL:0000625  None   </span></span>
<span><span class="co">#&gt; 14  7GpphKmr          lymphocyte of B lineage  CL:0000945  None   </span></span>
<span><span class="co">#&gt; 13  ryEtgi1y                           B cell  CL:0000236  None   </span></span>
<span><span class="co">#&gt; 3   4bKGljt0                             cell  CL:0000000  None   </span></span>
<span><span class="co">#&gt; 4   22LvKd01                           T cell  CL:0000084  None   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;                                              synonyms  \</span></span>
<span><span class="co">#&gt; id                                                      </span></span>
<span><span class="co">#&gt; 16  alpha-beta T-cell|alpha-beta T lymphocyte|alph...   </span></span>
<span><span class="co">#&gt; 17  mature alpha-beta T-lymphocyte|mature alpha-be...   </span></span>
<span><span class="co">#&gt; 15  CD8-positive, alpha-beta T-cell|CD8-positive, ...   </span></span>
<span><span class="co">#&gt; 14                                               None   </span></span>
<span><span class="co">#&gt; 13                   B lymphocyte|B-lymphocyte|B-cell   </span></span>
<span><span class="co">#&gt; 3                                                None   </span></span>
<span><span class="co">#&gt; 4                    T-cell|T-lymphocyte|T lymphocyte   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;                                           description  space_id  source_id  \</span></span>
<span><span class="co">#&gt; id                                                                           </span></span>
<span><span class="co">#&gt; 16  A T Cell That Expresses An Alpha-Beta T Cell R...         1         32   </span></span>
<span><span class="co">#&gt; 17   A Alpha-Beta T Cell That Has A Mature Phenotype.         1         32   </span></span>
<span><span class="co">#&gt; 15  A T Cell Expressing An Alpha-Beta T Cell Recep...         1         32   </span></span>
<span><span class="co">#&gt; 14  A Lymphocyte Of B Lineage With The Commitment ...         1         32   </span></span>
<span><span class="co">#&gt; 13  A Lymphocyte Of B Lineage That Is Capable Of B...         1         32   </span></span>
<span><span class="co">#&gt; 3   A Material Entity Of Anatomical Origin (Part O...         1         32   </span></span>
<span><span class="co">#&gt; 4   A Type Of Lymphocyte Whose Defining Characteri...         1         32   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     run_id                       created_at  created_by_id  _aux  _branch_code  </span></span>
<span><span class="co">#&gt; id                                                                              </span></span>
<span><span class="co">#&gt; 16       1 2025-05-02 13:05:04.019000+00:00              1  None             1  </span></span>
<span><span class="co">#&gt; 17       1 2025-05-02 13:05:04.019000+00:00              1  None             1  </span></span>
<span><span class="co">#&gt; 15       1 2025-05-02 13:05:03.854000+00:00              1  None             1  </span></span>
<span><span class="co">#&gt; 14       1 2025-05-02 13:05:03.511000+00:00              1  None             1  </span></span>
<span><span class="co">#&gt; 13       1 2025-05-02 13:05:03.275000+00:00              1  None             1  </span></span>
<span><span class="co">#&gt; 3        1 2025-05-02 13:05:00.568000+00:00              1  None             1  </span></span>
<span><span class="co">#&gt; 4        1 2025-05-02 13:05:00.568000+00:00              1  None             1  </span></span>
<span><span class="co">#&gt; <span style="color: #5555FF; font-weight: bold;">ExperimentalFactor</span></span></span>
<span><span class="co">#&gt;          uid                        name  ontology_id  abbr  \</span></span>
<span><span class="co">#&gt; id                                                            </span></span>
<span><span class="co">#&gt; 2   789nVHwo                   RNA assay  EFO:0001457  None   </span></span>
<span><span class="co">#&gt; 3   1wLRxESw           assay by molecule  EFO:0002772  None   </span></span>
<span><span class="co">#&gt; 4   6oIjaW4X         assay by instrument  EFO:0002773  None   </span></span>
<span><span class="co">#&gt; 5   6dI7vyK2          assay by sequencer  EFO:0003740  None   </span></span>
<span><span class="co">#&gt; 6   2zGOHoUs      single cell sequencing  EFO:0007832  None   </span></span>
<span><span class="co">#&gt; 1   4WYv9kl0  single-cell RNA sequencing  EFO:0008913  None   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;                                              synonyms  \</span></span>
<span><span class="co">#&gt; id                                                      </span></span>
<span><span class="co">#&gt; 2                                                None   </span></span>
<span><span class="co">#&gt; 3                                                None   </span></span>
<span><span class="co">#&gt; 4                                                None   </span></span>
<span><span class="co">#&gt; 5                                    sequencing assay   </span></span>
<span><span class="co">#&gt; 6                                                None   </span></span>
<span><span class="co">#&gt; 1   single-cell RNA-seq|scRNA-seq|single cell RNA ...   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;                                           description   molecule  \</span></span>
<span><span class="co">#&gt; id                                                                 </span></span>
<span><span class="co">#&gt; 2                             An Assay With Input Rna  RNA assay   </span></span>
<span><span class="co">#&gt; 3                                                None       None   </span></span>
<span><span class="co">#&gt; 4                                                None       None   </span></span>
<span><span class="co">#&gt; 5   An Assay That Exploits A Sequencer As The Inst...       None   </span></span>
<span><span class="co">#&gt; 6   Single Cell Sequencing Examines The Sequence I...       None   </span></span>
<span><span class="co">#&gt; 1   A Protocol That Provides The Expression Profil...  RNA assay   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;                 instrument measurement  space_id  source_id  run_id  \</span></span>
<span><span class="co">#&gt; id                                                                    </span></span>
<span><span class="co">#&gt; 2                     None        None         1         67       1   </span></span>
<span><span class="co">#&gt; 3                     None        None         1         67       1   </span></span>
<span><span class="co">#&gt; 4                     None        None         1         67       1   </span></span>
<span><span class="co">#&gt; 5       assay by sequencer        None         1         67       1   </span></span>
<span><span class="co">#&gt; 6   single cell sequencing        None         1         67       1   </span></span>
<span><span class="co">#&gt; 1   single cell sequencing        None         1         67       1   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;                          created_at  created_by_id  _aux  _branch_code  </span></span>
<span><span class="co">#&gt; id                                                                      </span></span>
<span><span class="co">#&gt; 2  2025-05-02 13:06:06.616000+00:00              1  None             1  </span></span>
<span><span class="co">#&gt; 3  2025-05-02 13:06:06.616000+00:00              1  None             1  </span></span>
<span><span class="co">#&gt; 4  2025-05-02 13:06:06.616000+00:00              1  None             1  </span></span>
<span><span class="co">#&gt; 5  2025-05-02 13:06:06.616000+00:00              1  None             1  </span></span>
<span><span class="co">#&gt; 6  2025-05-02 13:06:06.616000+00:00              1  None             1  </span></span>
<span><span class="co">#&gt; 1  2025-05-02 13:06:06.239000+00:00              1  None             1  </span></span>
<span><span class="co">#&gt; <span style="color: #5555FF; font-weight: bold;">Source</span></span></span>
<span><span class="co">#&gt;          uid                     entity organism   name  in_db  \</span></span>
<span><span class="co">#&gt; id                                                               </span></span>
<span><span class="co">#&gt; 67  2a1HvjdB  bionty.ExperimentalFactor      all    efo  False   </span></span>
<span><span class="co">#&gt; 53  5Xov8Lap             bionty.Disease      all  mondo  False   </span></span>
<span><span class="co">#&gt; 54  69lnSXfR             bionty.Disease      all  mondo  False   </span></span>
<span><span class="co">#&gt; 55  4ss2Hizg             bionty.Disease      all  mondo  False   </span></span>
<span><span class="co">#&gt; 56  Hgw08Vk3             bionty.Disease      all  mondo  False   </span></span>
<span><span class="co">#&gt; 57  UUZUtULu             bionty.Disease      all  mondo  False   </span></span>
<span><span class="co">#&gt; 58  7DH1aJIr             bionty.Disease      all  mondo  False   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     currently_used                       description  \</span></span>
<span><span class="co">#&gt; id                                                     </span></span>
<span><span class="co">#&gt; 67            True  The Experimental Factor Ontology   </span></span>
<span><span class="co">#&gt; 53           False            Mondo Disease Ontology   </span></span>
<span><span class="co">#&gt; 54           False            Mondo Disease Ontology   </span></span>
<span><span class="co">#&gt; 55           False            Mondo Disease Ontology   </span></span>
<span><span class="co">#&gt; 56           False            Mondo Disease Ontology   </span></span>
<span><span class="co">#&gt; 57           False            Mondo Disease Ontology   </span></span>
<span><span class="co">#&gt; 58           False            Mondo Disease Ontology   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;                                                   url   md5  \</span></span>
<span><span class="co">#&gt; id                                                            </span></span>
<span><span class="co">#&gt; 67  http://www.ebi.ac.uk/efo/releases/v3.70.0/efo.owl  None   </span></span>
<span><span class="co">#&gt; 53  http://purl.obolibrary.org/obo/mondo/releases/...  None   </span></span>
<span><span class="co">#&gt; 54  http://purl.obolibrary.org/obo/mondo/releases/...  None   </span></span>
<span><span class="co">#&gt; 55  http://purl.obolibrary.org/obo/mondo/releases/...  None   </span></span>
<span><span class="co">#&gt; 56  http://purl.obolibrary.org/obo/mondo/releases/...  None   </span></span>
<span><span class="co">#&gt; 57  http://purl.obolibrary.org/obo/mondo/releases/...  None   </span></span>
<span><span class="co">#&gt; 58  http://purl.obolibrary.org/obo/mondo/releases/...  None   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;                                       source_website  space_id  \</span></span>
<span><span class="co">#&gt; id                                                               </span></span>
<span><span class="co">#&gt; 67  https://bioportal.bioontology.org/ontologies/EFO         1   </span></span>
<span><span class="co">#&gt; 53               https://mondo.monarchinitiative.org         1   </span></span>
<span><span class="co">#&gt; 54               https://mondo.monarchinitiative.org         1   </span></span>
<span><span class="co">#&gt; 55               https://mondo.monarchinitiative.org         1   </span></span>
<span><span class="co">#&gt; 56               https://mondo.monarchinitiative.org         1   </span></span>
<span><span class="co">#&gt; 57               https://mondo.monarchinitiative.org         1   </span></span>
<span><span class="co">#&gt; 58               https://mondo.monarchinitiative.org         1   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    dataframe_artifact_id     version run_id                       created_at  \</span></span>
<span><span class="co">#&gt; id                                                                             </span></span>
<span><span class="co">#&gt; 67                  None      3.70.0   None 2025-05-02 13:04:40.006000+00:00   </span></span>
<span><span class="co">#&gt; 53                  None  2024-02-06   None 2025-05-02 13:04:40.006000+00:00   </span></span>
<span><span class="co">#&gt; 54                  None  2024-01-03   None 2025-05-02 13:04:40.006000+00:00   </span></span>
<span><span class="co">#&gt; 55                  None  2023-08-02   None 2025-05-02 13:04:40.006000+00:00   </span></span>
<span><span class="co">#&gt; 56                  None  2023-04-04   None 2025-05-02 13:04:40.006000+00:00   </span></span>
<span><span class="co">#&gt; 57                  None  2023-02-06   None 2025-05-02 13:04:40.006000+00:00   </span></span>
<span><span class="co">#&gt; 58                  None  2022-10-11   None 2025-05-02 13:04:40.006000+00:00   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     created_by_id  _aux  _branch_code  </span></span>
<span><span class="co">#&gt; id                                     </span></span>
<span><span class="co">#&gt; 67              1  None             1  </span></span>
<span><span class="co">#&gt; 53              1  None             1  </span></span>
<span><span class="co">#&gt; 54              1  None             1  </span></span>
<span><span class="co">#&gt; 55              1  None             1  </span></span>
<span><span class="co">#&gt; 56              1  None             1  </span></span>
<span><span class="co">#&gt; 57              1  None             1  </span></span>
<span><span class="co">#&gt; 58              1  None             1</span></span>
<span></span>
<span><span class="co"># get a single record (here the current notebook)</span></span>
<span><span class="va">transform</span> <span class="op">&lt;-</span> <span class="va">ln</span><span class="op">$</span><span class="va">Transform</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span>key <span class="op">=</span> <span class="st">"introduction.Rmd"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># get a set of records by filtering for a directory (LaminDB treats directories</span></span>
<span><span class="co"># like AWS S3, as the prefix of the storage key)</span></span>
<span><span class="va">ln</span><span class="op">$</span><span class="va">Artifact</span><span class="op">$</span><span class="fu">filter</span><span class="op">(</span>key__startswith <span class="op">=</span> <span class="st">"my_datasets/"</span><span class="op">)</span><span class="op">$</span><span class="fu">df</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;                    uid                         key        description   suffix</span></span>
<span><span class="co">#&gt; 1 9Xux7XhseJLE6uBR0000 my_datasets/rnaseq1.parquet               &lt;NA&gt; .parquet</span></span>
<span><span class="co">#&gt; 2 9Xux7XhseJLE6uBR0001 my_datasets/rnaseq1.parquet Just a description .parquet</span></span>
<span><span class="co">#&gt; 3 9Xux7XhseJLE6uBR0002 my_datasets/rnaseq1.parquet Just a description .parquet</span></span>
<span><span class="co">#&gt;      kind     otype size                   hash n_files n_observations</span></span>
<span><span class="co">#&gt; 1 dataset DataFrame 8641 KxOC-N4iTwBdjR7_oU0brA    &lt;NA&gt;              3</span></span>
<span><span class="co">#&gt; 2 dataset DataFrame 8641 3btdhd79VO_GjdaFAxprSg    &lt;NA&gt;              3</span></span>
<span><span class="co">#&gt; 3 dataset DataFrame 8641 Nlzjwti4AVVp2IqeOvkoNw    &lt;NA&gt;              3</span></span>
<span><span class="co">#&gt;   _hash_type _key_is_virtual _overwrite_versions space_id storage_id schema_id</span></span>
<span><span class="co">#&gt; 1        md5            TRUE               FALSE        1          1       NaN</span></span>
<span><span class="co">#&gt; 2        md5            TRUE               FALSE        1          1         1</span></span>
<span><span class="co">#&gt; 3        md5            TRUE               FALSE        1          1       NaN</span></span>
<span><span class="co">#&gt;   version is_latest run_id          created_at created_by_id _aux _branch_code</span></span>
<span><span class="co">#&gt; 1    &lt;NA&gt;     FALSE      1 2025-05-02 13:04:43             1 &lt;NA&gt;            1</span></span>
<span><span class="co">#&gt; 2    &lt;NA&gt;     FALSE      1 2025-05-02 13:06:07             1 &lt;NA&gt;            1</span></span>
<span><span class="co">#&gt; 3    &lt;NA&gt;      TRUE      1 2025-05-02 13:06:09             1 &lt;NA&gt;            1</span></span>
<span></span>
<span><span class="co"># query all artifacts ingested from a transform</span></span>
<span><span class="va">artifacts</span> <span class="op">&lt;-</span> <span class="va">ln</span><span class="op">$</span><span class="va">Artifact</span><span class="op">$</span><span class="fu">filter</span><span class="op">(</span>transform <span class="op">=</span> <span class="va">transform</span><span class="op">)</span><span class="op">$</span><span class="fu">all</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># query all artifacts ingested from a notebook with "intro" in the title</span></span>
<span><span class="va">artifacts</span> <span class="op">&lt;-</span> <span class="va">ln</span><span class="op">$</span><span class="va">Artifact</span><span class="op">$</span><span class="fu">filter</span><span class="op">(</span></span>
<span>  transform__description__icontains <span class="op">=</span> <span class="st">"intro"</span></span>
<span><span class="op">)</span><span class="op">$</span><span class="fu">all</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># search artifacts</span></span>
<span><span class="va">ln</span><span class="op">$</span><span class="va">Artifact</span><span class="op">$</span><span class="fu">search</span><span class="op">(</span><span class="st">"iris"</span><span class="op">)</span><span class="op">$</span><span class="fu">df</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] uid                 id                  key                </span></span>
<span><span class="co">#&gt;  [4] description         suffix              kind               </span></span>
<span><span class="co">#&gt;  [7] otype               size                hash               </span></span>
<span><span class="co">#&gt; [10] n_files             n_observations      _hash_type         </span></span>
<span><span class="co">#&gt; [13] _key_is_virtual     _overwrite_versions space_id           </span></span>
<span><span class="co">#&gt; [16] storage_id          schema_id           version            </span></span>
<span><span class="co">#&gt; [19] is_latest           run_id              created_at         </span></span>
<span><span class="co">#&gt; [22] created_by_id       _aux                _branch_code       </span></span>
<span><span class="co">#&gt; &lt;0 rows&gt; (or 0-length row.names)</span></span>
<span></span>
<span><span class="co"># search transforms</span></span>
<span><span class="va">ln</span><span class="op">$</span><span class="va">Transform</span><span class="op">$</span><span class="fu">search</span><span class="op">(</span><span class="st">"intro"</span><span class="op">)</span><span class="op">$</span><span class="fu">df</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;                uid              key      description     type source_code hash</span></span>
<span><span class="co">#&gt; 1 ikvGgbdP1mzV0000 introduction.Rmd introduction.Rmd notebook        &lt;NA&gt; &lt;NA&gt;</span></span>
<span><span class="co">#&gt;   reference reference_type space_id _template_id version is_latest</span></span>
<span><span class="co">#&gt; 1      &lt;NA&gt;           &lt;NA&gt;        1         &lt;NA&gt;    &lt;NA&gt;      TRUE</span></span>
<span><span class="co">#&gt;            created_at created_by_id _aux _branch_code</span></span>
<span><span class="co">#&gt; 1 2025-05-02 13:04:42             1 &lt;NA&gt;            1</span></span>
<span></span>
<span><span class="co"># look up records with auto-complete</span></span>
<span><span class="va">ulabels</span> <span class="op">&lt;-</span> <span class="va">ln</span><span class="op">$</span><span class="va">ULabel</span><span class="op">$</span><span class="fu">lookup</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="manage-files-folders">Manage files &amp; folders<a class="anchor" aria-label="anchor" href="#manage-files-folders"></a>
</h2>
<p>See <a href="https://docs.lamin.ai/introduction#manage-files-folders" class="external-link uri">https://docs.lamin.ai/introduction#manage-files-folders</a></p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># we use anon=True here in case no aws credentials are configured</span></span>
<span><span class="va">ln</span><span class="op">$</span><span class="fu">UPath</span><span class="op">(</span><span class="st">"s3://lamindata/iris_studies"</span>, anon <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">$</span><span class="fu">view_tree</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; 3 sub-directories &amp; 151 files with suffixes '.jpg', '.csv'</span></span>
<span><span class="co">#&gt; s3://lamindata/iris_studies</span></span>
<span><span class="co">#&gt; ├── study0_raw_images/</span></span>
<span><span class="co">#&gt; │   ├── iris-0337d20a3b7273aa0ddaa7d6afb57a37a759b060e4401871db3cefaa6adc068d.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-0797945218a97d6e5251b4758a2ba1b418cbd52ce4ef46a3239e4b939bd9807b.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-0f133861ea3fe1b68f9f1b59ebd9116ff963ee7104a0c4200218a33903f82444.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-0fec175448a23db03c1987527f7e9bb74c18cffa76ef003f962c62603b1cbb87.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-125b6645e086cd60131764a6bed12650e0f7f2091c8bbb72555c103196c01881.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-13dfaff08727abea3da8cfd8d097fe1404e76417fefe27ff71900a89954e145a.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-1566f7f5421eaf423a82b3c1cd1328f2a685c5ef87d8d8e710f098635d86d3d0.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-1804702f49c2c385f8b30913569aebc6dce3da52ec02c2c638a2b0806f16014e.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-318d451a8c95551aecfde6b55520f302966db0a26a84770427300780b35aa05a.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-3dec97fe46d33e194520ca70740e4c2e11b0ffbffbd0aec0d06afdc167ddf775.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-3eed72bc2511f619190ce79d24a0436fef7fcf424e25523cb849642d14ac7bcf.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-430fa45aad0edfeb5b7138ff208fdeaa801b9830a9eb68f378242465b727289a.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-4cc15cd54152928861ecbdc8df34895ed463403efb1571dac78e3223b70ef569.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-4febb88ef811b5ca6077d17ef8ae5dbc598d3f869c52af7c14891def774d73fa.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-590e7f5b8f4de94e4b82760919abd9684ec909d9f65691bed8e8f850010ac775.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-5a313749aa61e9927389affdf88dccdf21d97d8a5f6aa2bd246ca4bc926903ba.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-5b3106db389d61f4277f43de4953e660ff858d8ab58a048b3d8bf8d10f556389.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-5f4e8fffde2404cc30be275999fddeec64f8a711ab73f7fa4eb7667c8475c57b.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-68d83ad09262afb25337ccc1d0f3a6d36f118910f36451ce8a6600c77a8aa5bd.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-70069edd7ab0b829b84bb6d4465b2ca4038e129bb19d0d3f2ba671adc03398cc.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-7038aef1137814473a91f19a63ac7a55a709c6497e30efc79ca57cfaa688f705.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-74d1acf18cfacd0a728c180ec8e1c7b4f43aff72584b05ac6b7c59f5572bd4d4.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-7c3b5c5518313fc6ff2c27fcbc1527065cbb42004d75d656671601fa485e5838.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-7cf1ebf02b2cc31539ed09ab89530fec6f31144a0d5248a50e7c14f64d24fe6e.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-7dcc69fa294fe04767706c6f455ea6b31d33db647b08aab44b3cd9022e2f2249.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-801b7efb867255e85137bc1e1b06fd6cbab70d20cab5b5046733392ecb5b3150.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-8305dd2a080e7fe941ea36f3b3ec0aa1a195ad5d957831cf4088edccea9465e2.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-83f433381b755101b9fc9fbc9743e35fbb8a1a10911c48f53b11e965a1cbf101.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-874121a450fa8a420bdc79cc7808fd28c5ea98758a4b50337a12a009fa556139.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-8c216e1acff39be76d6133e1f549d138bf63359fa0da01417e681842210ea262.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-92c4268516ace906ad1ac44592016e36d47a8c72a51cacca8597ba9e18a8278b.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-95d7ec04b8158f0873fa4aab7b0a5ec616553f3f9ddd6623c110e3bc8298248f.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-9ce2d8c4f1eae5911fcbd2883137ba5542c87cc2fe85b0a3fbec2c45293c903e.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-9ee27633bb041ef1b677e03e7a86df708f63f0595512972403dcf5188a3f48f5.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-9fb8d691550315506ae08233406e8f1a4afed411ea0b0ac37e4b9cdb9c42e1ec.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-9ffe51c2abd973d25a299647fa9ccaf6aa9c8eecf37840d7486a061438cf5771.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-a2be5db78e5b603a5297d9a7eec4e7f14ef2cba0c9d072dc0a59a4db3ab5bb13.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-ad7da5f15e2848ca269f28cd1dc094f6f685de2275ceaebb8e79d2199b98f584.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-bc515e63b5a4af49db8c802c58c83db69075debf28c792990d55a10e881944d9.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-bd8d83096126eaa10c44d48dbad4b36aeb9f605f1a0f6ca929d3d0d492dafeb6.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-bdae8314e4385d8e2322abd8e63a82758a9063c77514f49fc252e651cbd79f82.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-c175cd02ac392ecead95d17049f5af1dcbe37851c3e42d73e6bb813d588ea70b.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-c31e6056c94b5cb618436fbaac9eaff73403fa1b87a72db2c363d172a4db1820.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-ca40bc5839ee2f9f5dcac621235a1db2f533f40f96a35e1282f907b40afa457d.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-ddb685c56cfb9c8496bcba0d57710e1526fff7d499536b3942d0ab375fa1c4a6.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-e437a7c7ad2bbac87fef3666b40c4de1251b9c5f595183eda90a8d9b1ef5b188.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-e7e0774289e2153cc733ff62768c40f34ac9b7b42e23c1abc2739f275e71a754.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-e9da6dd69b7b07f80f6a813e2222eae8c8f7c3aeaa6bcc02b25ea7d763bcf022.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-eb01666d4591b2e03abecef5a7ded79c6d4ecb6d1922382c990ad95210d55795.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-f6e4890dee087bd52e2c58ea4c6c2652da81809603ea3af561f11f8c2775c5f3.jpg</span></span>
<span><span class="co">#&gt; │   └── meta.csv</span></span>
<span><span class="co">#&gt; ├── study1_raw_images/</span></span>
<span><span class="co">#&gt; │   ├── iris-0879d3f5b337fe512da1c7bf1d2bfd7616d744d3eef7fa532455a879d5cc4ba0.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-0b486eebacd93e114a6ec24264e035684cebe7d2074eb71eb1a71dd70bf61e8f.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-0ff5ba898a0ec179a25ca217af45374fdd06d606bb85fc29294291facad1776a.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-1175239c07a943d89a6335fb4b99a9fb5aabb2137c4d96102f10b25260ae523f.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-1289c57b571e8e98e4feb3e18a890130adc145b971b7e208a6ce5bad945b4a5a.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-12adb3a8516399e27ff1a9d20d28dca4674836ed00c7c0ae268afce2c30c4451.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-17ac8f7b5734443090f35bdc531bfe05b0235b5d164afb5c95f9d35f13655cf3.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-2118d3f235a574afd48a1f345bc2937dad6e7660648516c8029f4e76993ea74d.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-213cd179db580f8e633087dcda0969fd175d18d4f325cb5b4c5f394bbba0c1e0.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-21a1255e058722de1abe928e5bbe1c77bda31824c406c53f19530a3ca40be218.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-249370d38cc29bc2a4038e528f9c484c186fe46a126e4b6c76607860679c0453.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-2ac575a689662b7045c25e2554df5f985a3c6c0fd5236fabef8de9c78815330c.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-2c5b373c2a5fd214092eb578c75eb5dc84334e5f11a02f4fa23d5d316b18f770.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-2ecaad6dfe3d9b84a756bc2303a975a732718b954a6f54eae85f681ea3189b13.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-32827aec52e0f3fa131fa85f2092fc6fa02b1b80642740b59d029cef920c26b3.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-336fc3472b6465826f7cd87d5cef8f78d43cf2772ebe058ce71e1c5bad74c0e1.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-432026d8501abcd495bd98937a82213da97fca410af1c46889eabbcf2fd1b589.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-49a9158e46e788a39eeaefe82b19504d58dde167f540df6bc9492c3916d5f7ca.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-4b47f927405d90caa15cbf17b0442390fc71a2ca6fb8d07138e8de17d739e9a4.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-5691cad06fe37f743025c097fa9c4cec85e20ca3b0efff29175e60434e212421.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-5c38dba6f6c27064eb3920a5758e8f86c26fec662cc1ac4b5208d5f30d1e3ead.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-5da184e8620ebf0feef4d5ffe4346e6c44b2fb60cecc0320bd7726a1844b14cd.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-66eee9ff0bfa521905f733b2a0c6c5acad7b8f1a30d280ed4a17f54fe1822a7e.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-6815050b6117cf2e1fd60b1c33bfbb94837b8e173ff869f625757da4a04965c9.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-793fe85ddd6a97e9c9f184ed20d1d216e48bf85aa71633eff6d27073e0825d54.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-850229e6293a741277eb5efaa64d03c812f007c5d0f470992a8d4cfdb902230c.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-86d782d20ef7a60e905e367050b0413ca566acc672bc92add0bb0304faa54cfc.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-875a96790adc5672e044cf9da9d2edb397627884dfe91c488ab3fb65f65c80ff.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-96f06136df7a415550b90e443771d0b5b0cd990b503b64cc4987f5cb6797fa9b.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-9a889c96a37e8927f20773783a084f31897f075353d34a304c85e53be480e72a.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-9e3208f4f9fedc9598ddf26f77925a1e8df9d7865a4d6e5b4f74075d558d6a5e.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-a7e13b6f2d7f796768d898f5f66dceefdbd566dd4406eea9f266fc16dd68a6f2.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-b026efb61a9e3876749536afe183d2ace078e5e29615b07ac8792ab55ba90ebc.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-b3c086333cb5ccb7bb66a163cf4bf449dc0f28df27d6580a35832f32fd67bfc9.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-b795e034b6ea08d3cd9acaa434c67aca9d17016991e8dd7d6fd19ae8f6120b77.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-bb4a7ad4c844987bc9dc9dfad2b363698811efe3615512997a13cd191c23febc.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-bd60a6ed0369df4bea1934ef52277c32757838123456a595c0f2484959553a36.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-c15d6019ebe17d7446ced589ef5ef7a70474d35a8b072e0edfcec850b0a106db.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-c45295e76c6289504921412293d5ddbe4610bb6e3b593ea9ec90958e74b73ed2.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-c50d481f9fa3666c2c3808806c7c2945623f9d9a6a1d93a17133c4cb1560c41c.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-df4206653f1ec9909434323c05bb15ded18e72587e335f8905536c34a4be3d45.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-e45d869cb9d443b39d59e35c2f47870f5a2a335fce53f0c8a5bc615b9c53c429.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-e76fa5406e02a312c102f16eb5d27c7e0de37b35f801e1ed4c28bd4caf133e7a.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-e8d3fd862aae1c005bcc80a73fd34b9e683634933563e7538b520f26fd315478.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-ea578f650069a67e5e660bb22b46c23e0a182cbfb59cdf5448cf20ce858131b6.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-eba0c546e9b7b3d92f0b7eb98b2914810912990789479838807993d13787a2d9.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-f22d4b9605e62db13072246ff6925b9cf0240461f9dfc948d154b983db4243b9.jpg</span></span>
<span><span class="co">#&gt; │   ├── iris-fac5f8c23d8c50658db0f4e4a074c2f7771917eb52cbdf6eda50c12889510cf4.jpg</span></span>
<span><span class="co">#&gt; │   └── meta.csv</span></span>
<span><span class="co">#&gt; └── study2_raw_images/</span></span>
<span><span class="co">#&gt;     ├── iris-01cdd55ca6402713465841abddcce79a2e906e12edf95afb77c16bde4b4907dc.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-02868b71ddd9b33ab795ac41609ea7b20a6e94f2543fad5d7fa11241d61feacf.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-0415d2f3295db04bebc93249b685f7d7af7873faa911cd270ecd8363bd322ed5.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-0c826b6f4648edf507e0cafdab53712bb6fd1f04dab453cee8db774a728dd640.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-10fb9f154ead3c56ba0ab2c1ab609521c963f2326a648f82c9d7cabd178fc425.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-14cbed88b0d2a929477bdf1299724f22d782e90f29ce55531f4a3d8608f7d926.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-186fe29e32ee1405ddbdd36236dd7691a3c45ba78cc4c0bf11489fa09fbb1b65.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-1b0b5aabd59e4c6ed1ceb54e57534d76f2f3f97e0a81800ff7ed901c35a424ab.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-1d35672eb95f5b1cf14c2977eb025c246f83cdacd056115fdc93e946b56b610c.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-1f941001f508ff1bd492457a90da64e52c461bfd64587a3cf7c6bf1bcb35adab.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-2a09038b87009ecee5e5b4cd4cef068653809cc1e08984f193fad00f1c0df972.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-308389e34b6d9a61828b339916aed7af295fdb1c7577c23fb37252937619e7e4.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-30e4e56b1f170ff4863b178a0a43ea7a64fdd06c1f89a775ec4dbf5fec71e15c.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-332953f4d6a355ca189e2508164b24360fc69f83304e7384ca2203ddcb7c73b5.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-338fc323ed045a908fb1e8ff991255e1b8e01c967e36b054cb65edddf97b3bb0.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-34a7cc16d26ba0883574e7a1c913ad50cf630e56ec08ee1113bf3584f4e40230.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-360196ba36654c0d9070f95265a8a90bc224311eb34d1ab0cf851d8407d7c28e.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-36132c6df6b47bda180b1daaafc7ac8a32fd7f9af83a92569da41429da49ea5b.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-36f2b9282342292b67f38a55a62b0c66fa4e5bb58587f7fec90d1e93ea8c407a.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-37ad07fd7b39bc377fa6e9cafdb6e0c57fb77df2c264fe631705a8436c0c2513.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-3ba1625bb78e4b69b114bdafcdab64104b211d8ebadca89409e9e7ead6a0557c.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-4c5d9a33327db025d9c391aeb182cbe20cfab4d4eb4ac951cc5cd15e132145d8.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-522f3eb1807d015f99e66e73b19775800712890f2c7f5b777409a451fa47d532.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-589fa96b9a3c2654cf08d05d3bebf4ab7bc23592d7d5a95218f9ff87612992fa.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-61b71f1de04a03ce719094b65179b06e3cd80afa01622b30cda8c3e41de6bfaa.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-62ef719cd70780088a4c140afae2a96c6ca9c22b72b078e3b9d25678d00b88a5.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-819130af42335d4bb75bebb0d2ee2e353a89a3d518a1d2ce69842859c5668c5a.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-8669e4937a2003054408afd228d99cb737e9db5088f42d292267c43a3889001a.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-86c76e0f331bc62192c392cf7c3ea710d2272a8cc9928d2566a5fc4559e5dce4.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-8a8bc54332a42bb35ee131d7b64e9375b4ac890632eb09e193835b838172d797.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-8e9439ec7231fa3b9bc9f62a67af4e180466b32a72316600431b1ec93e63b296.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-90b7d491b9a39bb5c8bb7649cce90ab7f483c2759fb55fda2d9067ac9eec7e39.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-9dededf184993455c411a0ed81d6c3c55af7c610ccb55c6ae34dfac2f8bde978.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-9e6ce91679c9aaceb3e9c930f11e788aacbfa8341a2a5737583c14a4d6666f3d.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-a0e65269f7dc7801ac1ad8bd0c5aa547a70c7655447e921d1d4d153a9d23815e.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-a445b0720254984275097c83afbdb1fe896cb010b5c662a6532ed0601ea24d7c.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-a6b85bf1f3d18bbb6470440592834c2c7f081b490836392cf5f01636ee7cf658.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-b005c82b844de575f0b972b9a1797b2b1fbe98c067c484a51006afc4f549ada4.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-bfcf79b3b527eb64b78f9a068a1000042336e532f0f44e68f818dd13ab492a76.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-c156236fb6e888764485e796f1f972bbc7ad960fe6330a7ce9182922046439c4.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-d99d5fd2de5be1419cbd569570dbb6c9a6c8ec4f0a1ff5b55dc2607f6ecdca8f.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-d9aae37a8fa6afdef2af170c266a597925eea935f4d070e979d565713ea62642.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-dbc87fcecade2c070baaf99caf03f4f0f6e3aa977e34972383cb94d0efe8a95d.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-e3d1a560d25cf573d2cbbf2fe6cd231819e998109a5cf1788d59fbb9859b3be2.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-ec288bdad71388f907457db2476f12a5cb43c28cfa28d2a2077398a42b948a35.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-ed5b4e072d43bc53a00a4a7f4d0f5d7c0cbd6a006e9c2d463128cedc956cb3de.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-f3018a9440d17c265062d1c61475127f9952b6fe951d38fd7700402d706c0b01.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-f47c5963cdbaa3238ba2d446848e8449c6af83e663f0a9216cf0baba8429b36f.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-fa4b6d7e3617216104b1405cda21bf234840cd84a2c1966034caa63def2f64f0.jpg</span></span>
<span><span class="co">#&gt;     ├── iris-fc4b0cc65387ff78471659d14a78f0309a76f4c3ec641b871e40b40424255097.jpg</span></span>
<span><span class="co">#&gt;     └── meta.csv</span></span>
<span></span>
<span><span class="va">artifact</span> <span class="op">&lt;-</span> <span class="va">ln</span><span class="op">$</span><span class="fu">Artifact</span><span class="op">(</span><span class="st">"s3://lamindata/iris_studies/study0_raw_images"</span><span class="op">)</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">artifact</span></span>
<span><span class="co">#&gt; Artifact(uid='7uedKN3CfQseKEDB0000', is_latest=True, key='iris_studies/study0_raw_images', suffix='', size=658465, hash='IVKGMfNwi8zKvnpaD_gG7w', n_files=51, space_id=1, storage_id=2, run_id=1, created_by_id=1, created_at=2025-05-02 13:06:13 UTC)</span></span>
<span></span>
<span><span class="va">artifact</span><span class="op">$</span><span class="va">path</span></span>
<span><span class="co">#&gt; S3QueryPath('s3://lamindata/iris_studies/study0_raw_images')</span></span>
<span></span>
<span><span class="va">ln</span><span class="op">$</span><span class="va">Storage</span><span class="op">$</span><span class="fu">df</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;            uid                                        root description  type</span></span>
<span><span class="co">#&gt; 2 FqcNpURKiWIf                              s3://lamindata        &lt;NA&gt;    s3</span></span>
<span><span class="co">#&gt; 1 Cj1JibjjOSS5 /tmp/RtmpNBC32Y/laminr-intro-20250502130420        &lt;NA&gt; local</span></span>
<span><span class="co">#&gt;      region instance_uid space_id run_id          created_at created_by_id _aux</span></span>
<span><span class="co">#&gt; 2 us-east-1         &lt;NA&gt;        1   &lt;NA&gt; 2025-05-02 13:06:13             1 &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 1      &lt;NA&gt; 7fB73ZtLATwt        1   &lt;NA&gt; 2025-05-02 13:04:39             1 &lt;NA&gt;</span></span>
<span><span class="co">#&gt;   _branch_code</span></span>
<span><span class="co">#&gt; 2            1</span></span>
<span><span class="co">#&gt; 1            1</span></span></code></pre></div>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">artifact_update</span> <span class="op">&lt;-</span> <span class="va">ln</span><span class="op">$</span><span class="va">Artifact</span><span class="op">$</span><span class="fu">from_df</span><span class="op">(</span><span class="va">df</span>, key <span class="op">=</span> <span class="st">"my_datasets/rnaseq-update.parquet"</span><span class="op">)</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #55FF55;">→</span> returning existing artifact with same hash: Artifact(uid='9Xux7XhseJLE6uBR0001', is_latest=False, key='my_datasets/rnaseq1.parquet', description='Just a description', suffix='.parquet', kind='dataset', otype='DataFrame', size=8641, hash='3btdhd79VO_GjdaFAxprSg', n_observations=3, space_id=1, storage_id=1, run_id=1, schema_id=1, created_by_id=1, created_at=2025-05-02 13:06:07 UTC); to track this artifact as an input, use: ln.Artifact.get()</span></span>
<span><span class="co">#&gt; <span style="color: #FFFF55;">!</span> key my_datasets/rnaseq1.parquet on existing artifact differs from passed key my_datasets/rnaseq-update.parquet</span></span>
<span><span class="va">artifact_update</span><span class="op">$</span><span class="va">description</span> <span class="op">&lt;-</span> <span class="st">"My new description"</span>  <span class="co"># change description</span></span>
<span><span class="va">artifact_update</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span><span class="op">)</span>  <span class="co"># save the change to the database</span></span>
<span><span class="co">#&gt; Artifact(uid='9Xux7XhseJLE6uBR0001', is_latest=False, key='my_datasets/rnaseq1.parquet', description='My new description', suffix='.parquet', kind='dataset', otype='DataFrame', size=8641, hash='3btdhd79VO_GjdaFAxprSg', n_observations=3, space_id=1, storage_id=1, run_id=1, schema_id=1, created_by_id=1, created_at=2025-05-02 13:06:07 UTC)</span></span>
<span><span class="va">artifact_update</span><span class="op">$</span><span class="fu">delete</span><span class="op">(</span><span class="op">)</span>  <span class="co"># move to trash</span></span>
<span><span class="co">#&gt; <span style="color: #55FF55;">→</span> moved artifact to trash (_branch_code = -1)</span></span>
<span><span class="va">artifact_update</span><span class="op">$</span><span class="fu">delete</span><span class="op">(</span>permanent <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>  <span class="co"># permanently delete</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="manage-biological-registries">Manage biological registries<a class="anchor" aria-label="anchor" href="#manage-biological-registries"></a>
</h2>
<p>See <a href="https://docs.lamin.ai/introduction#manage-biological-registries" class="external-link uri">https://docs.lamin.ai/introduction#manage-biological-registries</a></p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bt</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/import_module.html">import_module</a></span><span class="op">(</span><span class="st">"bionty"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">cell_types</span> <span class="op">&lt;-</span> <span class="va">bt</span><span class="op">$</span><span class="va">CellType</span><span class="op">$</span><span class="fu">public</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">cell_types</span></span>
<span><span class="co">#&gt; PublicOntology</span></span>
<span><span class="co">#&gt; Entity: CellType</span></span>
<span><span class="co">#&gt; Organism: all</span></span>
<span><span class="co">#&gt; Source: cl, 2024-08-16</span></span>
<span><span class="co">#&gt; #terms: 2959</span></span>
<span></span>
<span><span class="va">cell_types</span><span class="op">$</span><span class="fu">search</span><span class="op">(</span><span class="st">"gamma-delta T cell"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt;                                  name</span></span>
<span><span class="co">#&gt; CL:0000798         gamma-delta T cell</span></span>
<span><span class="co">#&gt; CL:4033072 cycling gamma-delta T cell</span></span>
<span><span class="co">#&gt;                                                                definition</span></span>
<span><span class="co">#&gt; CL:0000798 A T Cell That Expresses A Gamma-Delta T Cell Receptor Complex.</span></span>
<span><span class="co">#&gt; CL:4033072                       A(N) Gamma-Delta T Cell That Is Cycling.</span></span>
<span><span class="co">#&gt;                                                                                          synonyms</span></span>
<span><span class="co">#&gt; CL:0000798 gamma-delta T-cell|gamma-delta T lymphocyte|gammadelta T cell|gamma-delta T-lymphocyte</span></span>
<span><span class="co">#&gt; CL:4033072                                                       proliferating gamma-delta T cell</span></span>
<span><span class="co">#&gt;                           parents</span></span>
<span><span class="co">#&gt; CL:0000798             CL:0000084</span></span>
<span><span class="co">#&gt; CL:4033072 CL:4033069, CL:0000798</span></span>
<span></span>
<span><span class="co"># define var schema</span></span>
<span><span class="va">var_schema</span> <span class="op">&lt;-</span> <span class="va">ln</span><span class="op">$</span><span class="fu">Schema</span><span class="op">(</span></span>
<span>  name <span class="op">=</span> <span class="st">"my_var_schema"</span>,</span>
<span>  itype <span class="op">=</span> <span class="va">bt</span><span class="op">$</span><span class="va">Gene</span><span class="op">$</span><span class="va">ensembl_gene_id</span>,</span>
<span>  dtype <span class="op">=</span> <span class="st">"int"</span></span>
<span><span class="op">)</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># define composite schema</span></span>
<span><span class="va">anndata_schema</span> <span class="op">&lt;-</span> <span class="va">ln</span><span class="op">$</span><span class="fu">Schema</span><span class="op">(</span></span>
<span>  name <span class="op">=</span> <span class="st">"my_anndata_schema"</span>,</span>
<span>  otype <span class="op">=</span> <span class="st">"AnnData"</span>,</span>
<span>  components <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"obs"</span> <span class="op">=</span> <span class="va">schema</span>, <span class="st">"var"</span> <span class="op">=</span> <span class="va">var_schema</span><span class="op">)</span></span>
<span><span class="op">)</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ad</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/import_module.html">import_module</a></span><span class="op">(</span><span class="st">"anndata"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># store the dataset as an AnnData object to distinguish data from metadata</span></span>
<span><span class="va">adata</span> <span class="op">&lt;-</span> <span class="va">ad</span><span class="op">$</span><span class="fu">AnnData</span><span class="op">(</span><span class="va">df</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>, obs <span class="op">=</span> <span class="va">df</span><span class="op">[</span>, <span class="fl">4</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># save curated artifact</span></span>
<span><span class="va">curator</span> <span class="op">&lt;-</span> <span class="va">ln</span><span class="op">$</span><span class="va">curators</span><span class="op">$</span><span class="fu">AnnDataCurator</span><span class="op">(</span><span class="va">adata</span>, <span class="va">anndata_schema</span><span class="op">)</span></span>
<span><span class="va">artifact</span> <span class="op">&lt;-</span> <span class="va">curator</span><span class="op">$</span><span class="fu">save_artifact</span><span class="op">(</span>key <span class="op">=</span> <span class="st">"my_datasets/my_rnaseq1.h5ad"</span><span class="op">)</span></span>
<span><span class="co">#&gt; ... synchronizing ensembl_prefix.parquet:  0.0%... synchronizing ensembl_prefix.parquet: 41.9%... synchronizing ensembl_prefix.parquet: 100.0%</span></span>
<span><span class="co">#&gt; ... synchronizing df_vertebrates__ensembl__release-112__Organism.parquet:  0.0%... synchronizing df_vertebrates__ensembl__release-112__Organism.parquet: 43.5%... synchronizing df_vertebrates__ensembl__release-112__Organism.parquet: 100.0%</span></span>
<span><span class="co">#&gt; ... synchronizing df_human__ensembl__release-112__Gene.parquet:  0.0%... synchronizing df_human__ensembl__release-112__Gene.parquet:  0.7%... synchronizing df_human__ensembl__release-112__Gene.parquet:  3.2%... synchronizing df_human__ensembl__release-112__Gene.parquet:  4.5%... synchronizing df_human__ensembl__release-112__Gene.parquet:  7.1%... synchronizing df_human__ensembl__release-112__Gene.parquet:  9.6%... synchronizing df_human__ensembl__release-112__Gene.parquet: 12.2%... synchronizing df_human__ensembl__release-112__Gene.parquet: 14.7%... synchronizing df_human__ensembl__release-112__Gene.parquet: 17.3%... synchronizing df_human__ensembl__release-112__Gene.parquet: 19.9%... synchronizing df_human__ensembl__release-112__Gene.parquet: 22.4%... synchronizing df_human__ensembl__release-112__Gene.parquet: 24.9%... synchronizing df_human__ensembl__release-112__Gene.parquet: 27.5%... synchronizing df_human__ensembl__release-112__Gene.parquet: 30.1%... synchronizing df_human__ensembl__release-112__Gene.parquet: 32.6%... synchronizing df_human__ensembl__release-112__Gene.parquet: 35.2%... synchronizing df_human__ensembl__release-112__Gene.parquet: 37.7%... synchronizing df_human__ensembl__release-112__Gene.parquet: 40.3%... synchronizing df_human__ensembl__release-112__Gene.parquet: 42.9%... synchronizing df_human__ensembl__release-112__Gene.parquet: 45.4%... synchronizing df_human__ensembl__release-112__Gene.parquet: 48.0%... synchronizing df_human__ensembl__release-112__Gene.parquet: 50.5%... synchronizing df_human__ensembl__release-112__Gene.parquet: 53.1%... synchronizing df_human__ensembl__release-112__Gene.parquet: 55.6%... synchronizing df_human__ensembl__release-112__Gene.parquet: 58.2%... synchronizing df_human__ensembl__release-112__Gene.parquet: 60.8%... synchronizing df_human__ensembl__release-112__Gene.parquet: 63.3%... synchronizing df_human__ensembl__release-112__Gene.parquet: 65.8%... synchronizing df_human__ensembl__release-112__Gene.parquet: 68.4%... synchronizing df_human__ensembl__release-112__Gene.parquet: 71.0%... synchronizing df_human__ensembl__release-112__Gene.parquet: 73.5%... synchronizing df_human__ensembl__release-112__Gene.parquet: 76.1%... synchronizing df_human__ensembl__release-112__Gene.parquet: 78.6%... synchronizing df_human__ensembl__release-112__Gene.parquet: 81.2%... synchronizing df_human__ensembl__release-112__Gene.parquet: 83.8%... synchronizing df_human__ensembl__release-112__Gene.parquet: 86.3%... synchronizing df_human__ensembl__release-112__Gene.parquet: 88.9%... synchronizing df_human__ensembl__release-112__Gene.parquet: 91.4%... synchronizing df_human__ensembl__release-112__Gene.parquet: 94.0%... synchronizing df_human__ensembl__release-112__Gene.parquet: 96.4%... synchronizing df_human__ensembl__release-112__Gene.parquet: 99.0%... synchronizing df_human__ensembl__release-112__Gene.parquet: 100.0%</span></span>
<span><span class="co">#&gt; <span style="color: #FFFF55;">!</span> <span style="color: #FFFF55; font-weight: bold;">1 unique term</span> (12.50%) is not validated for <span style="font-style: italic;">name</span>: <span style="color: #FFFF55; font-weight: bold;">'sample_note'</span></span></span>
<span><span class="co">#&gt; <span style="color: #55FF55;">→</span> returning existing schema with same hash: Schema(uid='vsPOGopuYWj1hw3FuEbR', n=7, itype='Feature', is_type=False, otype='DataFrame', hash='W4Xpb_Luy_jNpgY7feeeqA', minimal_set=True, ordered_set=False, maximal_set=False, space_id=1, created_by_id=1, run_id=1, created_at=2025-05-02 13:06:07 UTC)</span></span>
<span><span class="va">artifact</span><span class="op">$</span><span class="fu">describe</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Artifact</span><span style="font-weight: bold; font-weight: 100;"> .h5ad/AnnData</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">├── </span><span style="color: #55FFFF; font-weight: bold;">General</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.uid = 'xltz2vNoLF7Qu77Z0000'</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.key = 'my_datasets/my_rnaseq1.h5ad'</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.size = 30240</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.hash = 'm2P4vKb8_FC7kjyyjXh0Xg'</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.n_observations = 3</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.path = </span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   │   /tmp/RtmpNBC32Y/laminr-intro-20250502130420</span>/.lamindb/xltz2vNoLF7Qu77Z000</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   │   </span>0.h5ad</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.created_by = testuser1 (Test User1)</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.created_at = <span style="font-weight: 100;">2025-05-02 13:07:53</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   └── </span><span style="color: #00BBBB;">.transform = 'introduction.Rmd'</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">├── </span><span style="color: #FF55FF; font-weight: bold;">Dataset features</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span><span style="color: #FF55FF; font-weight: bold;">var</span><span style="font-weight: bold; font-weight: 100;"> • </span><span style="color: #BBBBBB; font-weight: bold;">3</span><span style="font-weight: bold;">             </span><span style="color: #BBBBBB; font-weight: bold;">[bionty.Gene]</span><span style="font-weight: bold;">                                       </span></span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   │   </span>CD8A               <span style="font-weight: 100;"> float             </span>                                  </span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   │   </span>CD4                <span style="font-weight: 100;"> float             </span>                                  </span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   │   </span>CD14               <span style="font-weight: 100;"> float             </span>                                  </span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   └── </span><span style="color: #FF55FF; font-weight: bold;">obs</span><span style="font-weight: bold; font-weight: 100;"> • </span><span style="color: #BBBBBB; font-weight: bold;">7</span><span style="font-weight: bold;">             </span><span style="color: #BBBBBB; font-weight: bold;">[Feature]</span><span style="font-weight: bold;">                                           </span></span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│       </span>assay_oid          <span style="font-weight: 100;"> cat[bionty.Exper… </span> single-cell RNA sequencing       </span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│       </span>cell_type_by_expe… <span style="font-weight: 100;"> cat[bionty.CellT… </span> B cell, CD8-positive, alpha-beta…</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│       </span>cell_type_by_model <span style="font-weight: 100;"> cat[bionty.CellT… </span> B cell, T cell                   </span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│       </span>perturbation       <span style="font-weight: 100;"> cat[ULabel]       </span> DMSO, IFNG                       </span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│       </span>donor              <span style="font-weight: 100;"> str               </span>                                  </span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│       </span>concentration      <span style="font-weight: 100;"> str               </span>                                  </span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│       </span>treatment_time_h   <span style="font-weight: 100;"> num               </span>                                  </span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">└── </span><span style="color: #FFFF55; font-weight: bold;">Labels</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">    └── </span>.cell_types        <span style="font-weight: 100;"> bionty.CellType   </span> T cell, B cell, CD8-positive, al…</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">        </span>.experimental_fac… <span style="font-weight: 100;"> bionty.Experimen… </span> single-cell RNA sequencing       </span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">        </span>.ulabels           <span style="font-weight: 100;"> ULabel            </span> DMSO, IFNG</span></span>
<span></span>
<span><span class="co"># get a lookup object for human genes</span></span>
<span><span class="va">genes</span> <span class="op">&lt;-</span> <span class="va">bt</span><span class="op">$</span><span class="va">Gene</span><span class="op">$</span><span class="fu">filter</span><span class="op">(</span>organism__name <span class="op">=</span> <span class="st">"human"</span><span class="op">)</span><span class="op">$</span><span class="fu">lookup</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co"># query for all feature sets that contain CD8A</span></span>
<span><span class="va">feature_sets</span> <span class="op">&lt;-</span> <span class="va">ln</span><span class="op">$</span><span class="va">Schema</span><span class="op">$</span><span class="fu">filter</span><span class="op">(</span>genes <span class="op">=</span> <span class="va">genes</span><span class="op">$</span><span class="va">cd8a</span><span class="op">)</span><span class="op">$</span><span class="fu">all</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co"># write the query</span></span>
<span><span class="va">ln</span><span class="op">$</span><span class="va">Artifact</span><span class="op">$</span><span class="fu">filter</span><span class="op">(</span>feature_sets__in <span class="op">=</span> <span class="va">feature_sets</span><span class="op">)</span><span class="op">$</span><span class="fu">df</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;                    uid                         key description suffix    kind</span></span>
<span><span class="co">#&gt; 5 xltz2vNoLF7Qu77Z0000 my_datasets/my_rnaseq1.h5ad        &lt;NA&gt;  .h5ad dataset</span></span>
<span><span class="co">#&gt;     otype  size                   hash n_files n_observations _hash_type</span></span>
<span><span class="co">#&gt; 5 AnnData 30240 m2P4vKb8_FC7kjyyjXh0Xg    &lt;NA&gt;              3        md5</span></span>
<span><span class="co">#&gt;   _key_is_virtual _overwrite_versions space_id storage_id schema_id version</span></span>
<span><span class="co">#&gt; 5            TRUE               FALSE        1          1         4    &lt;NA&gt;</span></span>
<span><span class="co">#&gt;   is_latest run_id          created_at created_by_id _aux _branch_code</span></span>
<span><span class="co">#&gt; 5      TRUE      1 2025-05-02 13:07:53             1 &lt;NA&gt;            1</span></span>
<span></span>
<span><span class="co"># create an ontology-coupled cell type record and save it</span></span>
<span><span class="va">neuron</span> <span class="op">&lt;-</span> <span class="va">bt</span><span class="op">$</span><span class="va">CellType</span><span class="op">$</span><span class="fu">from_source</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"neuron"</span><span class="op">)</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># create a record to track a new cell state</span></span>
<span><span class="va">new_cell_state</span> <span class="op">&lt;-</span> <span class="va">bt</span><span class="op">$</span><span class="fu">CellType</span><span class="op">(</span></span>
<span>  name <span class="op">=</span> <span class="st">"my neuron cell state"</span>, description <span class="op">=</span> <span class="st">"explains X"</span></span>
<span><span class="op">)</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># express that it's a neuron state</span></span>
<span><span class="va">new_cell_state</span><span class="op">$</span><span class="va">parents</span><span class="op">$</span><span class="fu">add</span><span class="op">(</span><span class="va">neuron</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># view ontological hierarchy</span></span>
<span><span class="va">new_cell_state</span><span class="op">$</span><span class="fu">view_parents</span><span class="op">(</span>distance <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="manage-anndata-objects">Manage AnnData objects<a class="anchor" aria-label="anchor" href="#manage-anndata-objects"></a>
</h2>
<p>See <a href="https://docs.lamin.ai/introduction#manage-anndata-objects" class="external-link uri">https://docs.lamin.ai/introduction#manage-anndata-objects</a></p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># define var schema</span></span>
<span><span class="va">var_schema</span> <span class="op">&lt;-</span> <span class="va">ln</span><span class="op">$</span><span class="fu">Schema</span><span class="op">(</span>itype <span class="op">=</span> <span class="va">bt</span><span class="op">$</span><span class="va">Gene</span><span class="op">$</span><span class="va">ensembl_gene_id</span>, dtype <span class="op">=</span> <span class="st">"int"</span><span class="op">)</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #55FF55;">→</span> returning existing schema with same hash: Schema(uid='peqkhkJRCkjyv1wtpB6J', name='my_var_schema', n=-1, itype='bionty.Gene.ensembl_gene_id', is_type=False, dtype='int', hash='E0E5Sdk6NiiaGJuQ-3cE5w', minimal_set=True, ordered_set=False, maximal_set=False, space_id=1, created_by_id=1, run_id=1, created_at=2025-05-02 13:06:15 UTC)</span></span>
<span></span>
<span><span class="co"># define composite schema</span></span>
<span><span class="va">anndata_schema</span> <span class="op">&lt;-</span> <span class="va">ln</span><span class="op">$</span><span class="fu">Schema</span><span class="op">(</span></span>
<span>  otype <span class="op">=</span> <span class="st">"AnnData"</span>, components <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"obs"</span> <span class="op">=</span> <span class="va">schema</span>, <span class="st">"var"</span> <span class="op">=</span> <span class="va">var_schema</span><span class="op">)</span></span>
<span><span class="op">)</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #55FF55;">→</span> returning existing schema with same hash: Schema(uid='kHuAmuAZMsr83eFm4wC4', name='my_anndata_schema', n=-1, itype='Composite', is_type=False, otype='AnnData', dtype='num', hash='BSkm8hfxct633q7GGmFw_Q', minimal_set=True, ordered_set=False, maximal_set=False, space_id=1, created_by_id=1, run_id=1, created_at=2025-05-02 13:06:15 UTC)</span></span>
<span></span>
<span><span class="va">ad</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/import_module.html">import_module</a></span><span class="op">(</span><span class="st">"anndata"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># store the dataset as an AnnData object to distinguish data from metadata</span></span>
<span><span class="va">adata</span> <span class="op">&lt;-</span> <span class="va">ad</span><span class="op">$</span><span class="fu">AnnData</span><span class="op">(</span><span class="va">df</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>, obs <span class="op">=</span> <span class="va">df</span><span class="op">$</span><span class="va">iloc</span><span class="op">[</span>, <span class="fl">4</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># save curated artifact</span></span>
<span><span class="va">artifact</span> <span class="op">&lt;-</span> <span class="va">ln</span><span class="op">$</span><span class="va">Artifact</span><span class="op">$</span><span class="fu">from_anndata</span><span class="op">(</span></span>
<span>  <span class="va">adata</span>, key <span class="op">=</span> <span class="st">"my_datasets/my_rnaseq1.h5ad"</span>, schema <span class="op">=</span> <span class="va">anndata_schema</span></span>
<span><span class="op">)</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #55FF55;">→</span> creating new artifact version for key='my_datasets/my_rnaseq1.h5ad' (storage: '/tmp/RtmpNBC32Y/laminr-intro-20250502130420')</span></span>
<span><span class="co">#&gt; <span style="color: #55FF55;">→</span> returning existing schema with same hash: Schema(uid='7aNrdgFhaIJZs0lJK3fT', n=3, itype='bionty.Gene', is_type=False, dtype='float', hash='Wz4kWIn5CGsZchgktqKX0A', minimal_set=True, ordered_set=False, maximal_set=False, space_id=1, created_by_id=1, run_id=1, created_at=2025-05-02 13:07:53 UTC)</span></span>
<span><span class="va">artifact</span><span class="op">$</span><span class="fu">describe</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Artifact</span><span style="font-weight: bold; font-weight: 100;"> .h5ad/AnnData</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">├── </span><span style="color: #55FFFF; font-weight: bold;">General</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.uid = 'xltz2vNoLF7Qu77Z0001'</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.key = 'my_datasets/my_rnaseq1.h5ad'</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.size = 17256</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.hash = 'KPfvMMtL68rEYcUK4Itu9A'</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.n_observations = 3</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.path = </span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   │   /tmp/RtmpNBC32Y/laminr-intro-20250502130420</span>/.lamindb/xltz2vNoLF7Qu77Z000</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   │   </span>1.h5ad</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.created_by = testuser1 (Test User1)</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   ├── </span>.created_at = <span style="font-weight: 100;">2025-05-02 13:07:56</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">│   └── </span><span style="color: #00BBBB;">.transform = 'introduction.Rmd'</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">└── </span><span style="color: #FF55FF; font-weight: bold;">Dataset features</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">    └── </span><span style="color: #FF55FF; font-weight: bold;">var</span><span style="font-weight: bold; font-weight: 100;"> • </span><span style="color: #BBBBBB; font-weight: bold;">3</span><span style="font-weight: bold;">             </span><span style="color: #BBBBBB; font-weight: bold;">[bionty.Gene]</span><span style="font-weight: bold;">                                       </span></span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">        </span>CD8A               <span style="font-weight: 100;"> float             </span>                                  </span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">        </span>CD4                <span style="font-weight: 100;"> float             </span>                                  </span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">        </span>CD14               <span style="font-weight: 100;"> float             </span></span></span>
<span></span>
<span><span class="co"># query for all feature sets that contain CD8A</span></span>
<span><span class="va">feature_sets</span> <span class="op">&lt;-</span> <span class="va">ln</span><span class="op">$</span><span class="va">Schema</span><span class="op">$</span><span class="fu">filter</span><span class="op">(</span>genes__symbol <span class="op">=</span> <span class="st">"CD8A"</span><span class="op">)</span><span class="op">$</span><span class="fu">all</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># query for all artifacts linked to these feature sets</span></span>
<span><span class="va">ln</span><span class="op">$</span><span class="va">Artifact</span><span class="op">$</span><span class="fu">filter</span><span class="op">(</span>feature_sets__in <span class="op">=</span> <span class="va">feature_sets</span><span class="op">)</span><span class="op">$</span><span class="fu">df</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;                    uid                         key description suffix    kind</span></span>
<span><span class="co">#&gt; 5 xltz2vNoLF7Qu77Z0000 my_datasets/my_rnaseq1.h5ad        &lt;NA&gt;  .h5ad dataset</span></span>
<span><span class="co">#&gt; 6 xltz2vNoLF7Qu77Z0001 my_datasets/my_rnaseq1.h5ad        &lt;NA&gt;  .h5ad dataset</span></span>
<span><span class="co">#&gt;     otype  size                   hash n_files n_observations _hash_type</span></span>
<span><span class="co">#&gt; 5 AnnData 30240 m2P4vKb8_FC7kjyyjXh0Xg    &lt;NA&gt;              3        md5</span></span>
<span><span class="co">#&gt; 6 AnnData 17256 KPfvMMtL68rEYcUK4Itu9A    &lt;NA&gt;              3        md5</span></span>
<span><span class="co">#&gt;   _key_is_virtual _overwrite_versions space_id storage_id schema_id version</span></span>
<span><span class="co">#&gt; 5            TRUE               FALSE        1          1         4    &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 6            TRUE               FALSE        1          1         4    &lt;NA&gt;</span></span>
<span><span class="co">#&gt;   is_latest run_id          created_at created_by_id _aux _branch_code</span></span>
<span><span class="co">#&gt; 5     FALSE      1 2025-05-02 13:07:53             1 &lt;NA&gt;            1</span></span>
<span><span class="co">#&gt; 6      TRUE      1 2025-05-02 13:07:56             1 &lt;NA&gt;            1</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="scale-learning">Scale learning<a class="anchor" aria-label="anchor" href="#scale-learning"></a>
</h2>
<p>See <a href="https://docs.lamin.ai/introduction#scale-learning" class="external-link uri">https://docs.lamin.ai/introduction#scale-learning</a></p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># a new dataset</span></span>
<span><span class="va">df2</span> <span class="op">&lt;-</span> <span class="va">ln</span><span class="op">$</span><span class="va">core</span><span class="op">$</span><span class="va">datasets</span><span class="op">$</span><span class="fu">small_dataset2</span><span class="op">(</span>otype <span class="op">=</span> <span class="st">"DataFrame"</span><span class="op">)</span></span>
<span><span class="va">adata</span> <span class="op">&lt;-</span> <span class="va">ad</span><span class="op">$</span><span class="fu">AnnData</span><span class="op">(</span><span class="va">df2</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>, obs <span class="op">=</span> <span class="va">df2</span><span class="op">[</span>, <span class="fl">4</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">df2</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">artifact2</span> <span class="op">&lt;-</span> <span class="va">ln</span><span class="op">$</span><span class="va">Artifact</span><span class="op">$</span><span class="fu">from_anndata</span><span class="op">(</span></span>
<span>  <span class="va">adata</span>, key <span class="op">=</span> <span class="st">"my_datasets/my_rnaseq2.h5ad"</span>, schema <span class="op">=</span> <span class="va">anndata_schema</span></span>
<span><span class="op">)</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">collection</span> <span class="op">&lt;-</span> <span class="va">ln</span><span class="op">$</span><span class="fu">Collection</span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">artifact</span>, <span class="va">artifact2</span><span class="op">)</span>, key <span class="op">=</span> <span class="st">"my-RNA-seq-collection"</span></span>
<span><span class="op">)</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">collection</span><span class="op">$</span><span class="fu">describe</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Collection</span><span style="font-weight: bold; font-weight: 100;"> </span></span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">└── </span><span style="color: #55FFFF; font-weight: bold;">General</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">    ├── </span>.uid = 'RAhqNJyvqUCFlg0d0000'</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">    ├── </span>.key = 'my-RNA-seq-collection'</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">    ├── </span>.hash = 'OLm6xDldMg2UKdd2w-EMMw'</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">    ├── </span>.created_by = testuser1 (Test User1)</span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">    ├── </span>.created_at = <span style="font-weight: 100;">2025-05-02 13:08:00</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: 100;">    └── </span><span style="color: #00BBBB;">.transform = 'introduction.Rmd'</span></span></span>
<span><span class="va">collection</span><span class="op">$</span><span class="fu">view_lineage</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="introduction_files/figure-html/scale-1.png" width="700"></p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># if it's small enough, you can load the entire collection into memory as if it was one</span></span>
<span><span class="va">collection</span><span class="op">$</span><span class="fu">load</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; AnnData object with n_obs × n_vars = 6 × 4</span></span>
<span><span class="co">#&gt;     obs: 'perturbation', 'cell_type_by_model', 'artifact_uid'</span></span>
<span></span>
<span><span class="co"># typically, it's too big, hence, open it for streaming (if the backend allows it)</span></span>
<span><span class="co"># collection.open() # nolint</span></span>
<span></span>
<span><span class="co"># or iterate over its artifacts</span></span>
<span><span class="va">collection</span><span class="op">$</span><span class="va">artifacts</span><span class="op">$</span><span class="fu">all</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; &lt;QuerySet [Artifact(uid='xltz2vNoLF7Qu77Z0001', is_latest=True, key='my_datasets/my_rnaseq1.h5ad', suffix='.h5ad', kind='dataset', otype='AnnData', size=17256, hash='KPfvMMtL68rEYcUK4Itu9A', n_observations=3, space_id=1, storage_id=1, run_id=1, schema_id=4, created_by_id=1, created_at=2025-05-02 13:07:56 UTC), Artifact(uid='flD2fyRa7EWANWKy0000', is_latest=True, key='my_datasets/my_rnaseq2.h5ad', suffix='.h5ad', kind='dataset', otype='AnnData', size=21224, hash='cvRe3GnEeemSpG8v9PvtWQ', n_observations=3, space_id=1, storage_id=1, run_id=1, schema_id=4, created_by_id=1, created_at=2025-05-02 13:07:59 UTC)]&gt;</span></span>
<span></span>
<span><span class="co"># or look at a DataFrame listing the artifacts</span></span>
<span><span class="va">collection</span><span class="op">$</span><span class="va">artifacts</span><span class="op">$</span><span class="fu">df</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;                    uid                         key description suffix    kind</span></span>
<span><span class="co">#&gt; 6 xltz2vNoLF7Qu77Z0001 my_datasets/my_rnaseq1.h5ad        &lt;NA&gt;  .h5ad dataset</span></span>
<span><span class="co">#&gt; 7 flD2fyRa7EWANWKy0000 my_datasets/my_rnaseq2.h5ad        &lt;NA&gt;  .h5ad dataset</span></span>
<span><span class="co">#&gt;     otype  size                   hash n_files n_observations _hash_type</span></span>
<span><span class="co">#&gt; 6 AnnData 17256 KPfvMMtL68rEYcUK4Itu9A    &lt;NA&gt;              3        md5</span></span>
<span><span class="co">#&gt; 7 AnnData 21224 cvRe3GnEeemSpG8v9PvtWQ    &lt;NA&gt;              3        md5</span></span>
<span><span class="co">#&gt;   _key_is_virtual _overwrite_versions space_id storage_id schema_id version</span></span>
<span><span class="co">#&gt; 6            TRUE               FALSE        1          1         4    &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 7            TRUE               FALSE        1          1         4    &lt;NA&gt;</span></span>
<span><span class="co">#&gt;   is_latest run_id          created_at created_by_id _aux _branch_code</span></span>
<span><span class="co">#&gt; 6      TRUE      1 2025-05-02 13:07:56             1 &lt;NA&gt;            1</span></span>
<span><span class="co">#&gt; 7      TRUE      1 2025-05-02 13:07:59             1 &lt;NA&gt;            1</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="finish">Finish<a class="anchor" aria-label="anchor" href="#finish"></a>
</h2>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ln</span><span class="op">$</span><span class="fu">finish</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Creating lockfile <span style="color: #0000BB;">/home/runner/.cache/lamindb/environments/run_QePKUiBzAyntU7</span>…</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Loading metadata database</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Loading metadata database ... done</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Creating lockfile <span style="color: #0000BB;">/home/runner/.cache/lamindb/environments/run_QePKUiBzAyntU7</span>…<span style="color: #00BB00;">✔</span> Created lockfile <span style="color: #0000BB;">/home/runner/.cache/lamindb/environments/run_QePKUiBzAyntU72</span>…</span></span>
<span><span class="co">#&gt; <span style="color: #FFFF55;">!</span> no html report found; to attach one, create an .html export for your .Rmd file and then run: lamin save introduction.Rmd</span></span>
<span><span class="co">#&gt; <span style="color: #55FF55;">→</span> finished Run('QePKUiBz') after 3m at 2025-05-02 13:08:09 UTC</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://cannoodt.dev" class="external-link">Robrecht Cannoodt</a>, <a href="https://lazappi.id.au" class="external-link">Luke Zappia</a>, <a href="https://data-intuitive.com" class="external-link">Data Intuitive</a>, <a href="https://lamin.ai" class="external-link">Lamin Labs</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer>
</div>





  </body>
</html>
